FORMAT: 1A
HOST: http://localhost:3000/

# GZApi

В этой документации описаны все API методы приложения, необходимые используемые для визуального отображения.

Все методы веб сервера работают ТОЛЬКО в формате JSON

Большинство методов, предназначенных для работы с ресурсами, соответсвуют спецификации JSON API. Такие методы имеют тип данных `application/vnd.api+json` и отличительную структуру

Подробнее:
https://braintent.gitbooks.io/goznak-docs/content/controllers.html


Ссылки по формату документации API:
Проблемы API документации:
https://github.com/apiaryio/api-blueprint/issues/58

## Data Structures

## AllowedOperationIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `allowed_operations`

## AllowedOperation
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `allowed_operations`
+ attributes
    + name: `Add Comment` - имя действия.
    + name_ru: `Добавить комментарий` - имя действия на русском.
    + built_in_operation_name: `add_comment` - имя соответсвующего встроенного действия из DV, если оно определено.


## UserAttributes (object)
+ account_name: 'ACCOUNT\test' (string, required)

## UserAuthAttributes (object)
+ Include: UserAttributes
+ password: sekr3t (string)

## PreferredEmployee
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `preferred_employees`
+ attributes
    + use_count: 1 - количество использований
    + field_type: `performer` - тип поля для заполнения
+ relationships
    + employee (EmployeeIdentifier)


## EmployeeAttributes
+ first_name: `Сергей`
+ last_name: `Васильевич`
+ middle_name: `Иванови`
+ display_string: `Васильев С. И.`
+ gender: `Пол` - может быть male, female и none

## EmployeeRelationships
+ department (object)
  + data (DepartmentIdentifier)

## EmployeeIdentifierAttributes
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `employees` (string, required)

## EmployeeIdentifier
+ data (object)
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
    + type: `employees` (string, required)

## Employee (object)
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `employees` (string, required)
+ attributes (EmployeeAttributes)

## EmployeeExpandedForDeputy (object)
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `employees` (string, required)
+ attributes (EmployeeAttributes)
    + position: `должность`

## EmployeeSearchSerialized (object)
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `employees` (string, required)
+ attributes (EmployeeAttributes)
    + position: `должность`
+ relationships
    + unit  - подразделение
        + data (DepartmentIdentifier)
    + company  - компания
        + data (DepartmentIdentifier)

## EmployeeShowSerialized (object)
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `employees` (string, required)
+ attributes (EmployeeAttributes)
    + position: `должность`
    + phone: `884-1311-11` - телефон (внутренний)
    + room_number: `228` - номер кабинета
    + email: `email@email.email` - email
+ relationships
    + unit  - подразделение
        + data (DepartmentIdentifier)
    + company  - компания
        + data (DepartmentIdentifier)

## EmployeeWithDepartment (Employee)
+ relationships (EmployeeRelationships)

## PartnersDirCompanySearch
+ id:`AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: partners_dir_companies (string, required)
+ attributes (object)
    + name: `Роспил` - имя
    + full_name: `Общество вообще без ответственности 'РосПил'` - полное имя
    + org_type: `ООО` - вид компании. Пока пуст

## PartnersDirCompanyShow
+ id:`AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: partners_dir_companies (string, required)
+ attributes (object)
    + name: `Роспил` - имя
    + full_name: `Общество вообще без ответственности 'РосПил'` - полное имя
    + org_type: `ООО` - вид компании. Пока пуст
    + phone: `1314`
    + fax: `(495) 345-45-43`
    + email: `info@rospil.ru`
    + zip_code: `П111345`
    + city: `Москва`
    + address: `ул. Древесная, д.89`
    + country: `Россия`
+ relationships
    + manager - руководитель
        + data (PartnersDirEmployeeIdentifier)
    + contact_person - контактное лицо
        + data (PartnersDirEmployeeIdentifier)
    + employees - все сотрудники
        + data (array[PartnersDirEmployeeIdentifier])

## PartnersDirEmployeeIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `partners_dir_employees` (string, required)

## PartnersDirEmployee
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `partners_dir_employees` (string, required)
+ attributes
    + first_name: `Иван`
    + last_name: `Данилов`
    + middle_name: `Иванович`
    + display_string: `Данилов Иван Иванович`
    + phone: ``
    + gender: `male`
+ relationships
    + position - должность
        + data(PartnersDirPositionIdentifier) 


## PartnersDirPositionIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: partners_dir_positions

## PartnersDirPosition
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: partners_dir_positions
+ attributes
    + name: 'Пила' - название


## TaskCardCommentsIdentifierAttributes
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: task_card_comments (string, required)

## TaskCardCommentCreateParams
+ data
    + type: task_card_comments (string, required)
    + attributes
        + content: `Текст комментария` (string, required)


## TaskCardCommentWithAuthor
+ id:`AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: task_card_comments (string, required)
+ attributes (object)
    + content: `Текст комментария` (string, required)
    + creation_date: `Дата создания комментария` (string, required)
+ relationships
    + author (EmployeeIdentifier)
     


## DocumentCardCommentWithAuthor
+ id:`AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: document_card_comments (string, required)
+ attributes (object)
    + content: `Текст комментария` (string, required)
    + creation_date: `Дата создания комментария` (string, required)
+ relationships
    + author (EmployeeIdentifier)
     


## TaskCardIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: task_cards (string, required)

## TaskCardPerformParams
+ data
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
    + type: `task_cards`
    + attributes
        + content: `Тест заполненности полей` (string, required)
        + end_date: `2016-11-22T12:22:00` (string, required)
    + relationships (TaskCardCreateRelationships)

## TaskCardCreateRelationships
+ author (EmployeeIdentifier)
+ controller (EmployeeIdentifier)
+ performers 
    + data (array[EmployeeIdentifierAttributes]) - может быть множественным, если пусты соисполнтели
+ co_performers 
    + data (array[EmployeeIdentifierAttributes, EmployeeIdentifierAttributes])
+ acquaintances 
    + data (array[EmployeeIdentifierAttributes, EmployeeIdentifierAttributes])
<!--+ references-->
<!--    + data (array[CardReferenceIdentifier, CardReferenceIdentifier])-->


## TaskCardTreeListData
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: 'task_cards' (string, required)
+ attributes 
    + description: `Задание на исполнение Поручение от 09.09.2016` (string, required)
    + card_kind_name: `Тип карточки` (string)
    + card_kind_id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string)
    + state_default_name: `Started` (string, required)
    + collaborators_task: true (boolean)
+ relationships (TaskCardTreeListRelationships)


## TaskCardTreeListRelationships
+ performers 
    + data (array[EmployeeIdentifierAttributes])
+ operative_parent_task
    + data 
        + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
        + type: 'task_cards' (string, required)


## TaskCardListAttributes
+ description: `Задание на исполнение Поручение от 09.09.2016` (string, required)
+ content: `Тест заполненности полей` (string, required)
+ card_kind_name: `Тип карточки` (string)
+ card_kind_id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string)
+ state_default_name: `Started` (string, required)
+ start_date: `2016-10-21T00:00:00.000Z` (string, required)
+ collaborators_task: true (boolean)
+ end_date: `2016-10-21T00:00:00.000Z` (string, required)
+ shared: false (boolean) - Распределено или нет
+ end_date_actual: `2016-10-21T00:00:00.000Z` (string, required)
+ unread: true (boolean) - не прочитано текущим пользователем
+ added_to_favorites_at: `2016-10-21T00:00:00.000Z` (string, required) - дата добавления в избранное

## TaskCardListData
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: 'task_cards' (string, required)
+ attributes (TaskCardListAttributes)
    + description: `Поручение от 12.12.2016` (string, required) - Название карточки
    + card_kind_name: `Поручение` (string) - Тип карточки
    + controlled: false (boolean) - На контроле
+ relationships (TaskCardListRelationships)


## TaskCardRegularCommissionListData
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: 'task_cards' (string, required)
+ attributes (TaskCardListAttributes)
    + number: `ДП-74` (string) - Номер
    + comment: `очень важно!` (string) - Примечание
    + percent_completed: `5` (string) - Процент исполнения
    + report: `сделал аж 5%` (string) - Последний отчет
    + description: `Длительное поручение №ДП-74 от 12.12.2016` (string, required) - Название карточки
    + state_default_name: `In work` (string, required) - Состояние карточки
    + card_kind_name: `Длительное поручение` (string) - Тип карточки
+ relationships (TaskCardListRelationships)

## TaskCardListRelationships
+ author (EmployeeIdentifier)
+ controller (EmployeeIdentifier)
+ performers 
    + data (array[EmployeeIdentifierAttributes]) - может быть множественным, если пусты соисполнтели
+ co_performers 
    + data (array[EmployeeIdentifierAttributes, EmployeeIdentifierAttributes])
+ acquaintances 
    + data (array[EmployeeIdentifierAttributes, EmployeeIdentifierAttributes])

## TaskCardListIncluded
+ included (array[Employee, Employee, Employee] )

## TaskCardBaseAttributes
+ description: `Задание на исполнение Поручение от 09.09.2016` (string, required)
+ card_kind_name: `Тип карточки` (string)
+ card_kind_id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string)
+ state_default_name: `Started` (string, required)

## TaskCardShowAttributes (TaskCardBaseAttributes)
+ content: `Тест заполненности полей` (string, required)
+ start_date: `2016-10-21T00:00:00.000Z` (string, required)
+ collaborators_task: true (boolean)
+ end_date_actual: `2016-10-21T00:00:00.000Z` (string, required)
+ end_date: `2016-10-21T00:00:00.000Z` (string, required)
+ shared: false (boolean) - Распределено или нет
+ unread: true (boolean) - Статус прочтенности
+ added_to_favorites_at: `2016-10-21T00:00:00.000Z` (string, required) - дата добавления в избранное

## TaskCardRegularCommissionShowAttributes (TaskCardShowAttributes)
+ number: `ДП-74` (string) - Номер
+ comment: `` (string) - Примечание
+ percent_completed: `0` (string) - Процент исполнения
+ report: `` (string) - Последний отчет
+ description: `Длительное поручение №ДП-74 от 12.12.2016` (string, required) - Название карточки
+ state_default_name: `Initialization` (string, required) - Состояние карточки
+ card_kind_name: `Длительное поручение` (string) - Тип карточки

## TaskCardTemplateAttributes
+ description: `Задание на исполнение Поручение от 09.09.2016` (string, required)
+ content: `-` (string, required) - Содержание
+ card_kind_name: `Тип карточки` (string)
+ card_kind_id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string)
+ state_default_name: `Initialization` (string, required) - Состояние карточки
+ start_date: `2016-10-21T00:00:00.000Z` (string, required)
+ collaborators_task: true (boolean)
+ end_date_actual: `2016-10-21T00:00:00.000Z` (string, required)
+ end_date: `2016-10-21T00:00:00.000Z` (string, required)
+ shared: false (boolean) - Распределено или нет

## TaskCardCommissionTemplateAttributes (TaskCardTemplateAttributes)
+ description: `Поручение от 12.12.2016` (string, required) - Название карточки
+ card_kind_name: `Поручение` (string) - Тип карточки
+ controlled: false (boolean) - На контроле

## TaskCardRegularCommissionTemplateAttributes (TaskCardTemplateAttributes)
+ number: `ДП-74` (string) - Номер
+ comment: `` (string) - Примечание
+ description: `Длительное поручение №ДП-74 от 12.12.2016` (string, required) - Название карточки
+ card_kind_name: `Длительное поручение` (string) - Тип карточки


## TaskCardOnlyReferencesRelationships
+ references
    + data (array[CardReferenceIdentifier, CardReferenceIdentifier])

## TaskCardShowRelationships
+ author (EmployeeIdentifier)
+ controller (EmployeeIdentifier)
+ comments 
    + data (array[TaskCardCommentsIdentifierAttributes, TaskCardCommentsIdentifierAttributes])
+ cycles 
    + data (array[TaskCardCycleIdentifierAttributes, TaskCardCycleIdentifierAttributes])
+ performers 
    + data (array[EmployeeIdentifierAttributes]) - может быть множественным, если пусты соисполнтели
+ co_performers 
    + data (array[EmployeeIdentifierAttributes, EmployeeIdentifierAttributes])
+ acquaintances 
    + data (array[EmployeeIdentifierAttributes, EmployeeIdentifierAttributes])
+ references
    + data (array[CardReferenceIdentifier, CardReferenceIdentifier])
+ allowed_operations
    + data (array[AllowedOperationIdentifier, AllowedOperationIdentifier])
+ main_document - ссылка на основной документ задания
    + data (DocumentCardIdentifier)


## TaskCardCycleIdentifierAttributes
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: task_card_cycles (string, required)


## TaskCardCycle
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: task_card_cycles (string, required)
+ attributes
    + number: 1 (string, required)
    + executer: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
    + date: `2007-01-01 000000 UTC` (string, required)
    + decision: `Текст - название состояния`
    + comment: `Комментарий - отчет`
+ relationships
    + executer
        + data (EmployeeIdentifierAttributes)
    + references
        + data (array[CardReferenceIdentifier, CardReferenceIdentifier])
    
## TaskCardPresetIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: task_card_presets (string, required)

## TaskCardCompletionPresetIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: task_card_preset_completion_presets (string, required)

## TaskCardPreset
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: task_card_presets (string, required)
+ relationships
    + completion_preset (TaskCardCompletionPresetIdentifier)

## TaskCardCompletionPreset
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: task_card_preset_completion_presets (string, required)
+ attributes
    + report_required: false

## GroupSearchSerialized
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `groups`
+ attributes
    + name: `Лучшие люди` - название группы

## DepartmentIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: departments (string, required)

## DepartmentInfo
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `departments`
+ attributes
    + name: `ООО «Глазовский завод «Химмаш»` - название подразделения

## DepartmentSearchSerialized
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `departments` (string, required)
+ attributes
    + name: `ООО «Глазовский завод «Химмаш»` - название подразделения



## TaskAvailableAction
+ name: `Reject` (string, required) - Стаднартное имя операции. Встречается на английском
+ name_ru: `Отклонить` (string) - Имя операции на русском
+ built_in_operation_name: `edit` (string) - Имя связанной встроенной в DV операции
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)

## TaskOperationsPattern
+ name: `Edit` (string, required) - Стаднартное имя операции. Встречается на английском
+ name_ru: `Редактировать` (string) - Имя операции на русском
+ built_in_operation_name: `edit` (string) - Имя связанной встроенной в DV операции
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)



## VersionedCardRelationInfo
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `versioned_file_cards`
+ attributes
    + description: `Имя файла.формат` (string, required)
    + file_name: `Имя файла.формат` (string, required)
    + current_version_number: `1` (string, required)
    + current_version_file_id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)

## DocumentCardReferenceRelationInfoFile
+ id: `99BF9654-7389-E611-80AD-0800278BDFDD` (string, required)
+ type: `document_cards` (string, required)
+ attributes
    + description:         `Имя файла.формат` (string, required)
    + card_kind_name:      `Файл` (string, required)
    + card_kind_id:        `F9A8D158-9884-4765-859D-31C4EFCA149D` (string, required)
    + state_default_name:  `Created` (string, required)
+ relationships 
    + file_cards 
        + data (array[VersionedFileCardIdentifier])

## DocumentCardCreatedDraftTemplate
+ id: `CE6712F6-2DED-E611-8EAB-0800279209D4`
+ type: `document_cards`
+ attributes
    + description: `Исходящий`
    + card_kind_name: `Исходящий документ`
    + card_kind_id: `0EEBB19D-C9F0-430E-A24A-84E93A669D77`
    + state_default_name: `Drafting`
    + change_date_time: `2017-02-07T19:07:15.000Z`
    + creation_date_time: `2017-02-07T19:07:15.000Z`
    + parent_card_kind_name: `Исходящие документы`
    + parent_card_kind_id: `B324E740-94CB-40D1-BF6B-28B83DC127C9`
    + name (string, nullable)
    + content (string, nullable)
    + case_name (string, nullable)
    + number_of_sheets (string, nullable)
    + number_of_sheets_appendix (string, nullable)
    + added_to_favorites_at (string, nullable)
    + project_number: `247`
    + registration_number (string, nullable)
    + registration_date (string, nullable)
    + sending_type: `Самостоятельно` 
    + attachment (string, nullable)
+ relationships
    + recipients
        + data (array[])
    + allowed_operations
        + data (array[])
    + references
        + data (array[])
    + files
        + data (array[])
    + preparator
        + data (object)
    + registrar (EmployeeIdentifier)
    + signers
        + data (array[])
    + comments
        + data (array[])
    + approvers
        + data (array[])


## DocumentCardFileFormedResponse
+ id: `CE6712F6-2DED-E611-8EAB-0800279209D4`
+ type: `document_cards`
+ attributes
    + description: `Исходящий`
    + card_kind_name: `Исходящий документ`
    + card_kind_id: `0EEBB19D-C9F0-430E-A24A-84E93A669D77`
    + state_default_name: `Drafting`
    + change_date_time: `2017-02-07T19:07:15.000Z`
    + creation_date_time: `2017-02-07T19:07:15.000Z`
    + parent_card_kind_name: `Исходящие документы`
    + parent_card_kind_id: `B324E740-94CB-40D1-BF6B-28B83DC127C9`
    + name (string, nullable)
    + content (string, nullable)
+ relationships
    + files
        + data (array[DocumentCardFileSectionRelationElementIdentifier])
+ included (array[DocumentCardFileSectionRelationElement, VersionedCardRelationInfo]) 

## DocumentCardWithFullTree
+ id: `CE6712F6-2DED-E611-8EAB-0800279209D4`
+ type: `document_cards`
+ attributes
    + description: `Исходящий`
    + card_kind_name: `Исходящий документ`
    + card_kind_id: `0EEBB19D-C9F0-430E-A24A-84E93A669D77`
    + state_default_name: `Drafting`
    + change_date_time: `2017-02-07T19:07:15.000Z`
    + creation_date_time: `2017-02-07T19:07:15.000Z`
+ relationships
    + task_tree_items - задания из дерева заданий исполнения
        + data (array[TaskCardIdentifier, TaskCardIdentifier])
    + approval_steps - элементы истории согласования
        + data (array[DocumentApprovalStepIdentifier, DocumentApprovalStepIdentifier])
    }
+ included (array[DocumentApprovalStep, DocumentApprovalStep, TaskCardTreeListData, TaskCardTreeListData, TaskCardTreeListData, Employee, Employee, Employee] )

## DocumentApprovalStepIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `document_cards_approval_steps`

## DocumentApprovalStep (DocumentApprovalStepIdentifier)
+ attributes
    + number: `0` - номер цикла
    + state_name: `Подписан` - состояние на шаге согласования
+ relationships
    + task
        + data (TaskCardIdentifier)
    + task_tree_items
        + data (array[TaskCardIdentifier, TaskCardIdentifier])
        

## DocumentCardFileSectionRelationElementIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `document_card_files`

## DocumentCardFileSectionRelationElement (DocumentCardFileSectionRelationElementIdentifier)
+ attributes
  + file_type: `mine` (string)
+ relationships
    + file_card
      + data (VersionedFileCardIdentifier)




## DocumentCardSaveParamsBody
+ id: `CE6712F6-2DED-E611-8EAB-0800279209D4`
+ type: `document_cards`
+ attributes
    + name (string, nullable)
    + content (string, nullable)
    + number_of_sheets (string, nullable)
    + number_of_sheets_appendix (string, nullable)
    + attachment (string, nullable)
+ relationships
    + preparator
        + data (object)
    + case
        + data (object)
    + signers
        + data (array[])
    + approvers - только когда есть согласование
        + data (array[])
    + receiver_employees - только для СЗ
        + data (array[])
    + copy_recipients - только для СЗ
        + data (array[])
    + recipients
        + data (array[]) - только для ИД
    + order_type - для РД вида Приказ
        + data (object)
    + direction_type - для РД вида Распоряжение
        + data (object)
    + guidline_type - для РД вида Указание
        + data (object)


## VersionedFileCardIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: versioned_file_cards (string, required)


## DocumentCardIdentifier   
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: document_cards (string, required)


## CardReferenceIdentifier
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
+ type: `reference_list_card_references`

## CardReferenceLinkCreateDescription
+ data
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
    + type: `reference_list_card_references`
    + attributes
      + type_description: `Дополнительные файлы` (string)
      + type_name: `КЗ ДополненияФайлыОтчет` (string)
      + creation_date: `2007-01-01 000000 UTC`
    + relationships
        + destination_card
          + data (DocumentCardIdentifier)
+ included (array[DocumentCardReferenceRelationInfoFile, VersionedCardRelationInfo]) 

## DocumentCardReferenceLinkCreateDescription
+ data
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
    + type: `reference_list_card_references`
    + attributes
      + type_description: `Связанные карточки` (string)
      + type_name: `КЗ ДополненияКарточкиВх` (string)
      + creation_date: `2017-01-20T11:17:24.143Z`
    + relationships
        + destination_card
            + data (DocumentCardIdentifier)
+ included (array[DocumentCardReferenceRelationInfo]) 

## DocumentFileReferenceCreateDescription
+ data
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA`
    + type: `document_card_files`
    + attributes
      + file_type: `mine` (string)
    + relationships
        + file_card
          + data (VersionedFileCardIdentifier)
+ included (array[VersionedCardRelationInfo]) 

## DocumentCardReferenceRelationInfo
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: 'document_cards' (string, required)
+ attributes 
    + description: `Имя документ №номер от 09.09.2016` (string, required)
    + card_kind_name: `Тип карточки` (string)
    + card_kind_id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string)
    + state_default_name: `In work` (string, required)
    + parent_card_kind_name: `Исходящие документы`
    + parent_card_kind_id: `B324E740-94CB-40D1-BF6B-28B83DC127C9`
    + name: `Тема исходящая корреспонденция`


## CardReferenceLinkDescriptionExample1 (CardReferenceIdentifier)
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: `reference_list_card_references`
+ attributes
  + type_name: `КЗ_ДополненияФайлыОтчет` (string)
  + type_description: `Дополнительные файлы` (string)
  + creation_date: `2007-01-01 000000 UTC`  - дата создания
+ relationships
    + destination_card 
        + data (DocumentCardIdentifier)


## CardReferenceLinkDescriptionExample2 (CardReferenceIdentifier)
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
+ type: `reference_list_card_references`
+ attributes
  + type_name: `КЗ_Основной документ` (string)
  + type_description: `Основной документ` (string)
  + creation_date: `2007-01-01 000000 UTC`  - сдата создания
+ relationships
    + destination_card 
        + data (DocumentCardIdentifier)



## CardRoles
+ name: `Название роли` (string, required)
+ id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)

## TaskCardWithActions
+ data (object)
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
    + type: 'task_cards' (string, required)
    + attributes (TaskCardShowAttributes)
    + relationships (TaskCardShowRelationships)
+ included (array[Employee, Employee, DepartmentInfo, CardReferenceLinkDescriptionExample1, DocumentCardReferenceRelationInfoFile, DocumentCardReferenceRelationInfoFile, VersionedCardRelationInfo, TaskCardCycle, TaskCardCycle, TaskCardCommentWithAuthor, TaskCardCommentWithAuthor, AllowedOperation, AllowedOperation])

## TaskCardRegularCommissionWithActions
+ data (object)
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
    + type: 'task_cards' (string, required)
    + attributes (TaskCardRegularCommissionShowAttributes)
    + relationships (TaskCardShowRelationships)
+ included (array[Employee, Employee, DepartmentInfo, CardReferenceLinkDescriptionExample1, DocumentCardReferenceRelationInfoFile, DocumentCardReferenceRelationInfoFile, VersionedCardRelationInfo, TaskCardCycle, TaskCardCycle, TaskCardCommentWithAuthor, TaskCardCommentWithAuthor, AllowedOperation, AllowedOperation])


## TaskCardWithActionsDelegation
+ data (object)
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
    + type: 'task_cards' (string, required)
    + attributes (TaskCardShowAttributes)
    + relationships (TaskCardShowRelationships)
+ included (array[Employee, Employee, DepartmentInfo, CardReferenceLinkDescriptionExample1, DocumentCardReferenceRelationInfoFile, DocumentCardReferenceRelationInfoFile, AllowedOperation, AllowedOperation])

## TaskCardWithActionsReassign
+ data (object)
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
    + type: 'task_cards' (string, required)
    + attributes (TaskCardShowAttributes)
    + relationships (TaskCardShowRelationships)
+ included (array[Employee, Employee, DepartmentInfo, CardReferenceLinkDescriptionExample1, DocumentCardReferenceRelationInfoFile, DocumentCardReferenceRelationInfoFile, VersionedCardRelationInfo, AllowedOperation, AllowedOperation])



## TaskCardAfterTemplateCreate
+ data (object)
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
    + type: 'task_cards' (string, required)
    + attributes (TaskCardCommissionTemplateAttributes)
    + relationships 
        + author 
            - data (object, optional, nullable)
        + controller 
            - data (object, optional, nullable)
        + cycles 
            + data (array[])
        + performers 
            + data (array[])
        + co_performers 
            + data (array[])
        + acquaintances 
            + data (array[])

## TaskCardAfterRegularCommissionTemplateCreate
+ data (object)
    + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
    + type: 'task_cards' (string, required)
    + attributes (TaskCardRegularCommissionTemplateAttributes)
    + relationships 
        + author 
            - data (object, optional, nullable)
        + controller 
            - data (object, optional, nullable)
        + cycles 
            + data (array[])
        + performers 
            + data (array[])
        + co_performers 
            + data (array[])
        + acquaintances 
            + data (array[])


# Group Пользователи

## Сессии [/users/sign_in]
#### Создать сессию [POST]

+ Request (application/json)

        {
            "account_name": "DOCSVISION\\dv",
            "password": "12345678"
        }

+ Response 201 (application/json)

    + Headers

            Access-Token:Ly2s3IWFvEJWNSlgr0BlSg
            Client:57sggIs-NRwfnv2oe5dKcg
            Etag:W/"43c2f9eabb3ecef557ff77804a90f79b"
            Expiry:1471867003
            Token-Type:Bearer
            Uid:5

    + Body

            {
                "data":{
                    "id":1,
                    "employee_id":"d70f6f76-f047-4daf-9fac-72acb68f0338"
                }
            }
            
            

# Group Администраторы

## Авторизация [/admins/sign_in]

#### Создать сессию [POST]

+ Request (application/json)

        {
            "login": "superadmin",
            "password": "12345678"
        }

+ Response 201 (application/json)

    + Headers

            Access-Token:4yzt0hS8ZPTeZWvCrO5dQQ
            Client:G24hRw_GOnm-vDSP14VxVw
            Etag:W/"a0c9026fb660a244f8b76750bc11942d"
            Expiry:1471867013
            Token-Type:Bearer
            Uid:1

    + Body

            {
                "data":{
                    "login": "superadmin",
                    "id": "1"
                }
            }
            

# Group Сотрудники

## Домашная страница [GET /staff/employees/my_page]

Вернет информацию об основном пользователе. **БЕЗ** учета замещения.
Вдобавок, в meta будут содержаться статические параметры приложения, которые необходимо показать (для всех одинаковы).

+ Request (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (EmployeeExpandedForDeputy)
        + meta
            + phonebook_url: `https://localhost:12345`
            + resolutions: `Тестирование резолюций`, `Резолюция, добавленая позднее`, `И еще позднее`



## Информация о сотруднике [GET /staff/employees/{id}]
- `id` ( **String**, *required* )
UUID запрашиваемого сотрудника 

Вернет развернутую информацию о сотруднике

+ Request (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (EmployeeShowSerialized)
        + included (array[DepartmentInfo, DepartmentInfo])

## Информация о сотрудниках [GET /staff/employees/?employees%5B%5D={employees}]
- `employees` ( **Array**, *required* )
массов UUID искомых сотрудников

Вернет развернутую информацию о сотрудниках, UUID которых указаны в списке `employees`

+ Request (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (array[EmployeeShowSerialized, EmployeeShowSerialized])
        + included (array[DepartmentInfo, DepartmentInfo])

## Редактирование информации о сотруднике [PATCH /staff/employees/]
Метод позволяет изменить некоторые атрибуты текущего сотрудника

Доступные для редактирования параметры:

| Имя параметра | Комментарий |
| - | - |
| room_number | Номер кабинета |
| phone | Номер телефона (локальный) |
| email | Ящик email |

+ Request (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (EmployeeShowSerialized)
        + included (array[DepartmentInfo, DepartmentInfo])

## Добавление фотографии [POST /staff/employees/photo]
Метод позволяет добавить фотографию пользователя.
В случае удачи вернется статус 201 с пустым ответом

+ Request (multipart/form-data; boundary=---BOUNDARY)

    + Headers 

            Accept: application/vnd.api+json

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes


## Поиск по справочнику сотрудников [GET /staff/search?filter={filter}&page={page}]
- `filter` ( **String**, *required* )
Фильтр по имени 
- `page` ( **String**, *required* )
Страница


Производит поиск по:

1. Сотрудникам
2. Группам
3. Подразделениям

Если не нашлось нужное количество сотрудников для страницы - пойдет искать в группах  недостающее кол-во до ON_PAGE. Так же соотв. подразделения.

+ Request (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (array[EmployeeSearchSerialized, EmployeeSearchSerialized, GroupSearchSerialized, DepartmentSearchSerialized])
        + included (array[DepartmentInfo, DepartmentInfo])

## Список замещаемых текущим пользователем [GET /staff/employees/deputized_by_me]

Вернется набор пользователей, замещаемых текущим сотрудником.

+ Request (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (array[EmployeeExpandedForDeputy, EmployeeExpandedForDeputy])
        + included (array[DepartmentInfo, DepartmentInfo])


## Сотрудники быстрого выбора [GET /staff/employees/preferred_employees]
Вернет список сотрудников быстрого выбора, включая количество использований, типы полей и ссылки на сотрудников
Метод **УЧИТЫВАЕТ** замещение. При указании замещения - вернет список для замещаемого

+ Request (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (array[PreferredEmployee, PreferredEmployee])
        + included (array[Employee, Employee])


## Изображение [/staff/employees/{employee_id}/photo]
- `employee_id` ( **String**, *required* )
ID сотрудника

### Получить [GET]

+ Response 200 (text/plain)

        Ok.

# Group Заместители сотрудника, активность

Все методы из этой группы могут быть использованы только для текущего сотрудника

## Изменить параметры активности, статус сотрудника [PATCH /staff/employees/activity?status={status}&inactive_from={inactive_from}&inactive_to={inactive_to}&inactive_status={inactive_status}]

- `status` ( **String** )

Текущий cтатус. Может принимать значение из таблицы представленной ниже.

| Значение | Что значит |
| - | - |
| active         | Активен        |
| sick           | Болен          |
| vacation       | В отпуске      |
| business_trip  | В командировке |
| absent         | Отсутствует    |


- `inactive_status` ( **String** )
Статус в период неактивности
Может принимать значение из таблицы представленной ниже.

| Значение | Что значит |
| - | - |
| sick           | Болен          |
| vacation       | В отпуске      |
| business_trip  | В командировке |
| absent         | Отсутствует    |

- `inactive_from` ( **String** )
Дата начала срока неактивности. Формат даты: `2011-02-02`
- `inactive_to` ( **String** )
Дата завершения срока неактивности. Формат даты: `2011-02-02`


+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

        {
          "data": {
            "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
            "type": "employees",
            "attributes": {
              "first_name": null,
              "last_name": "Администратор",
              "middle_name": null,
              "display_string": "Администратор",
              "gender": "male",
              "has_photo": true,
              "status": "sick",
              "inactive_status": "absent",
              "inactive_from": "2013-02-02T00:00:00.000Z",
              "inactive_to": "2013-02-02T00:00:00.000Z"
            }
          }
        }



## Список заместителей [GET /staff/employees/mine_deputies]

Метод вернет список заместителей сотрудника

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

        {
          "data": [
            {
              "id": "6F749340-E657-443C-B73D-369BEB1BF0AC",
              "type": "staff_dir_employee_deputies",
              "attributes": {
                "performing": true,
                "control": true,
                "signature": false,
                "permanent_deputy": false,
                "deputy_access": false
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "67239E79-A2FC-46AD-AE44-F462386B46F2",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "41F2AF44-43D3-4329-859A-536045BE79FD",
              "type": "staff_dir_employee_deputies",
              "attributes": {
                "performing": true,
                "control": true,
                "signature": true,
                "permanent_deputy": true,
                "deputy_access": true
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "FE6A4BE9-2C74-425D-BFFE-F4E590E8472B",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "ADD2EE8D-C0D7-4CB5-B4EC-51C68A3EA14B",
              "type": "staff_dir_employee_deputies",
              "attributes": {
                "performing": true,
                "control": true,
                "signature": true,
                "permanent_deputy": true,
                "deputy_access": true
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
                    "type": "employees"
                  }
                }
              }
            }
          ]
        }


## Добавить заместителя [POST /staff/employees/mine_deputies/?employee_id=67239E79-A2FC-46AD-AE44-F462386B46F2&performing={performing}&control={control}&signature={signature}&permanent_deputy={permanent_deputy}&deputy_access={deputy_access}]
- `employee_id` ( **String**, *required* )
ok
- `performing` ( **Boolean** )
Исполнение (атрибут в DV: `Performing`)
- `control` ( **Boolean** )
Ответственное исполнение (атрибут в DV: `Control`)
- `signature` ( **Boolean** )
Подпись (атрибут в DV: `Signature`)
- `permanent_deputy` ( **Boolean** )
Постоянный заместитель (атрибут в DV: `PermanentDeputy`)
- `deputy_access` ( **Boolean** )
Выдавать права доступа (атрибут в DV: `DeputyAccess`)


Метод создает заместителя текущего сотрудника с указанными параметрами.

Если выбран сотрудник, который уже указан в заместителях текущего - вернется ошибка.

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

        {
          "data": {
            "id": "6F749340-E657-443C-B73D-369BEB1BF0AC",
            "type": "staff_dir_employee_deputies",
            "attributes": {
              "performing": true,
              "control": true,
              "signature": false,
              "permanent_deputy": false,
              "deputy_access": false
            },
            "relationships": {
              "employee": {
                "data": {
                  "id": "67239E79-A2FC-46AD-AE44-F462386B46F2",
                  "type": "employees"
                }
              }
            }
          }
        }


## Редактировать заместителя [PATCH /staff/employees/mine_deputies/{deputy_id}/performing={performing}&control={control}&signature={signature}&permanent_deputy={permanent_deputy}&deputy_access={deputy_access}]
- `deputy_id` ( **String**, *required* )
ID редактируемого заместителя (type: staff_dir_employee_deputies)
- `performing` ( **Boolean** )
Исполнение (атрибут в DV: `Performing`)
- `control` ( **Boolean** )
Ответственное исполнение (атрибут в DV: `Control`)
- `signature` ( **Boolean** )
Подпись (атрибут в DV: `Signature`)
- `permanent_deputy` ( **Boolean** )
Постоянный заместитель (атрибут в DV: `PermanentDeputy`)
- `deputy_access` ( **Boolean** )
Выдавать права доступа (атрибут в DV: `DeputyAccess`)

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

        {
          "data": {
            "id": "6F749340-E657-443C-B73D-369BEB1BF0AC",
            "type": "staff_dir_employee_deputies",
            "attributes": {
              "performing": true,
              "control": true,
              "signature": false,
              "permanent_deputy": false,
              "deputy_access": false
            },
            "relationships": {
              "employee": {
                "data": {
                  "id": "67239E79-A2FC-46AD-AE44-F462386B46F2",
                  "type": "employees"
                }
              }
            }
          }
        }


## Удалить заместителя [DELETE /staff/employees/mine_deputies/{deputy_id}/]
- `deputy_id` ( **String**, *required* )
ID удаляемого заместителя (type: staff_dir_employee_deputies)


+ Request (application/vnd.api+json)

+ Response 204 (application/vnd.api+json)


# Group Группы

## Получить всех участников [GET /staff/groups/{id}/participants]
- `id` ( **String**, *required* )
ID группы

Включает сотрудников всех дочерних групп с учетом флага 'Не отображать при выборе'

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (array[EmployeeSearchSerialized, EmployeeSearchSerialized])


# Group Подразделения

## Получить всех участников [GET /staff/departments/{id}/participants]
- `id` ( **String**, *required* )
ID группы

Включает сотрудников всех дочерних подразделений с учетом флага 'Не отображать при выборе'

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (array[EmployeeSearchSerialized, EmployeeSearchSerialized])

# Group Контрагенты

## Поиск компании по имени [GET /partners/companies]
- `filter` ( **String**, *required* )
Часть имени, по которой будет производится поиск

Метод производит поиск по компаниям. Вернутся все совпадения, где искомая строка является частью имени `Name` или полного имени `FullName`

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (array[PartnersDirCompanySearch, PartnersDirCompanySearch])

## Данные о компании [GET /partners/companies/{id}]
- `id` ( **String**, *required* )
ID компании

Метод вернет развернутую информацию о компании включая зависимости: ссылки на руководителя, контактное лицо и так же всех участников.

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (PartnersDirCompanyShow)
        + included (array[PartnersDirPosition, PartnersDirEmployee])


# Group Карточки

## Описание 

Общие методы, доступные всем карточкам в системе


## Добавление в избранное  [/cards/{id}/add_to_favorites]

### Добавить [PATCH]
На данный момент доступно только для карточек видов: `Задание`; `Документ`.

При использовании данного метода требуется доступ к операции чтения (*Read*) карточки.

- `id` ( **String**, *required* )
Уникальный ID карточки (`InstanceID` карточки)

+ Request (application/vnd.api+json)

+ Response 204 (application/vnd.api+json)


## Удаление из избранного  [/cards/{id}/remove_from_favorites]

### Удалить [PATCH]
На данный момент доступно только для карточек видов: `Задание`; `Документ`.

При использовании данного метода требуется доступ к операции чтения (*Read*) карточки.


- `id` ( **String**, *required* )
Уникальный ID карточки (`InstanceID` карточки)

+ Request (application/vnd.api+json)

+ Response 204 (application/vnd.api+json)


## Список избранного  [/cards/favorites?page={page}]
### Описание
Вернет список избранных карточек. На данный момент:
* Карточка вида `Задание` будет сериализоваться точно так же (в т.ч. с теми же included), как и в меоде `Список заданий`.
* У карточки вида `Документ` будут выдаваться только самые основные свойства.

### Получить [GET]
- `page` ( **String** )
Номер страницы. Сейчас на странице показывается 50 элементов и сортировка идёт по дате добавление в избранное `FoldersDir::Folder::Shortcut.CreationDateTime`

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)
    + Attributes
        + data (array[TaskCardListData, TaskCardListData, TaskCardRegularCommissionListData])
        + included (array[Employee, Employee, Employee] 




# Group Задания

## Список заданий [/task_cards/?list={list}&status={status}&page={page}&performers={performers}]

- `list` ( **String**, *required* )

### Описание
Определяет вид листа, который нужно получить.

На данный момент доступны следующие листы (В таблице после параметра и описания указаны условия соответсвия листу): 
| Параметр            | Описание             | Тип задания         | Распределено | В состоянии                               | Сотрудник, один из: | Дополнительно |
| -                   | -                    | -                   | -   | -                                                  | -                   | - |
| mine                | Выданные мной        | Поручение           | -   | 'Started', 'In work', 'Not accepted', 'Acceptance' | А                   | В этом списке не выводятся задания для соисполнителей (CollaboratorsTask) |
| todo                | Мне сделать          | кроме `Поручение`   | нет | 'Started', 'In work', 'Not accepted', 'Acceptance', 'Delegated' | И, С, К, О          | - |
| commissions_perform | Исполнение поручений | на исполнение       | нет | 'Started', 'In work'                               | И, С                | - |
| commissions_rework  | Доработка поручений  | на исполнение       | нет | 'Not accepted'                                     | И, С                | - |
| commissions_check   | Контроль поручений   | на исполнение       | нет | 'Acceptance' для поручений, 'Started', 'In work' для длительных | К      | - |
| informing           | Ознакомление         | на ознакомл.        | нет | 'Started', 'In work'                               | И, С                | - |
| shared              | Распределены         | исп, рассм          | да  | 'Started', 'In work', 'Not ccepted', 'Delegated'   | И, С                | - |
| completed           | Завершены            | все, кроме длительных | нет | 'Completed', 'Recalled', 'Rejected'                | И, С, К, О, А       | - |
| consideration       | Рассмотрение         | на рассмотр.        | нет | 'Started', 'In work'                               | И, С                | - |
| approval            | Согласование         | cогласование        | нет | 'Started', 'In work', 'Delegated'                  | И, С                | - |
| signing             | Подписание           | подписание          | нет | 'Started', 'In work', 'Delegated'                  | И, С                | - |
| docs_rework         | Доработка документов | доработка, подг.оригинала | нет | 'Started', 'In work', 'Delegated'            | И, С                | - |
| regular_commissions | Длительные поручения | длит. поруч.        | -   | 'Started', 'In work'                               | И, С                | - |
| regular_commissions_check | Контроль длит. поручений | длит. поруч. | -   | 'Started', 'In work'                            | К                   | - |
| mine_regular_commissions | Мои длительные поручения | длит. поруч. | -   | 'Started', 'In work'                             | А                   | В этом списке не выводятся задания для соисполнителей (CollaboratorsTask) |

Все листы сортируются по **дате создания карточки**, кроме completed в нём - по **дате завершения**


**ВАЖНО** 

* У длительных поручений нет атрибута `controlled`, но взамен есть `number`, `percent_completed`, `comment`, `report`
* На данный момент длительным не важен факт распределения. Кроме того, у них нет флага установки Shared.

Сокращения названий роли сотрудника, применяемые в таблице:
| Обозначение | Расшифровка |
| - | - |
| И | Исполнитель     |  
| С | Соисполнитель   | 
| А | Автор           | 
| О | На ознакомление | 
| К | Контролер       | 

**Параметры**
- `page` ( **String** )

Номер страницы. Сейчас на странице показывается 50 элементов и сортировка идёт по дате создания карточки `dvsys_instances.CreationDateTime`
В случаях если он не задан или задан не верно (меньше еденицы, не цифровым значением) - `page` принимается за 1

- `status` ( **Array** )
При помощи данного параметра можно определить массив свойств, по которым нужно фильтровать список:

Возможна филтьтрация по полям:

1. Status: 
    1. expired    - просрочено
    2. expiring   - подходит срок
    3. controlled - на контроле

- `performers` ( **Array** )

Участники задания (Исполнители). Параметр позволяет отфильтровать задания, у которых исполнитель содержится в указанном списке ID.
Фильтр не будет иметь смысла в списках, где при выборке текущий пользователь должен быть исполнителем задания.

**Содержание ответа**

Ответ содержит список заданий. 
Для каждого задания кроме основной информации посылаются необходимые для отображения зависимости, а именно - лист сотрудников, являющихся участниками задания.

**Основной документ**
Список включает основные документы к каждому заданию, причем для каждого документа будет свой сериализатор.
Основной документ включается, как и при Show - в references. **но, в данном случае в references будет только один основной документ**

В атрибутах основного документа, кроме всего прочего, в параметре `parent_card_kind_name` включается родительский тип, например: "Служебные записки", "Распорядительные документы".

Краткая справка по дополнительным элементам сериализации документов из списка задач, готовым на данный момент.
| Тип документа | Что включает | 
| - | - | 
| Все | имя, содержание, имя дела, имя родительского типа, кол-во страниц, кол-во страниц в приложении. |
| РД | Имя типа документа (doc_type. В DV показывается как `тип распоряжения`, `тип указания` и прочее, в зависимости от  типа карточки документа) |
| СЗ | Получатели |
| Исходящий | Получатели (тип отправления, компания, сотрудник => должность), тип дублирования |
| Входящий | Отправитель (компания, сотрудник => должность), вложение |
| Универсальный документ | Имя типа универсального документа (doc_type) |
| Протокол | Тип совещания |


### Получить [GET]



+ Request  (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)

    + Attributes
        + data (array[TaskCardListData, TaskCardRegularCommissionListData, TaskCardListData])
        + included (array[Employee, Employee, Employee] )


## Задание [/task_cards/{id}/]

- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

### Получить информацию по заданию [GET]
#### Описание
При открытии еденичного задания информация схожа с той, что выдается к списку заданий, дополненная следующими элементами:
* Список возможных действий над поручением
* Список доступных прав для текущего пользователя
* Список комментариев
* Ход исполнения
* Полное описание основного документа. Информация эквивалентна информации при получении документа через отдельный метод
* Список приложенных файлов и связок (исключая основной документ)

+ Request (application/vnd.api+json)

    + Headers

            Authorization: Bearer <ACCESS_TOKEN>

+ Response 200 (application/vnd.api+json)

    + Attributes (TaskCardWithActions)


## Комментирование [/task_cards/{id}/comments?content={content}]

- `id` ( **String**, *required* )
Уникальный идентификатор документа.
- `content` ( **String**, *required* )
Текст комментария

### Добавить комментарий [POST]


+ Request (application/vnd.api+json)
        
+ Response 201 (application/vnd.api+json)

    + Headers

            Access-Token:4yzt0hS8ZPTeZWvCrO5dQQ
            Client:G24hRw_GOnm-vDSP14VxVw
            Etag:W/"a0c9026fb660a244f8b76750bc11942d"
            Expiry:1471867013
            Token-Type:Bearer
            Uid:1

    + Attributes
        + data (TaskCardCommentWithAuthor)
        + included (Employee)

## Создание шаблона вида `Поручение`  [/task_cards/templates/commission]

### Описание 
Что бы создать задание типа `Поручение` необходимо сначала создать шаблон.  В ответе вернется ID созданного шаблона задания.
Теперь к этому шаблону можно отправлять связки. (Файлы)
Далее необходимо отправить шаблон в работу. Это действие требует корректную отправку заполненных в UI данных поручения.


### Создание шаблона с типом Поручение  [POST]
- `linked_card_id` ( **String** )
Необязательный параметр, добавляет связку с карточкой, UUID которой указан данном параметре. Использовать для создания связанного задания (`InstanceID` карточки)

+ Request (application/vnd.api+json)

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes (TaskCardAfterTemplateCreate)
            

## Удаление шаблона задания [/task_cards/templates/{id}]

- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

### Удалить шаблон задания [DELETE]

#### Описание
Допустимо только для шаблона типов `Поручение` и `Длительное поручение`

+ Request (application/vnd.api+json)

+ Response 204


## Изменение типа шаблона задания [/task_cards/templates/{id}/change_kind/{new_kind}]

- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)
- `new_kind` ( **String**, *required* )
Тип шаблона, на который следует поменять текущее задание. 
Может быть двух видов: `commission`, 'regular_commission'
Данный пример ответа предусмотрен для типа `commission`

### Установить шаблону тип `Поручение` [PATCH /task_cards/templates/{id}/change_kind/commission]

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (TaskCardAfterTemplateCreate)

### Установить шаблону тип `Длительное поручение` [PATCH /task_cards/templates/{id}/change_kind/regular_commission]


+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (TaskCardAfterRegularCommissionTemplateCreate)



## Отправка шаблона в работу  [/task_cards/templates/{id}/start]

### Отправить [PATCH]

- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

+ Request (application/vnd.api+json)

    + Attributes (TaskCardPerformParams)

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (TaskCardWithActions)

## Сохранить задание  [/task_cards/{id}/save]
На данный момент используется только для карточки вида `Длительное поручение`

- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)
- `report` ( **String** )
Отчет, который следует занести в историю исполнения длительного поручения. Если не задан - проигнорируется.
- `percent_completed` ( **String** )
Процент завершения длительного поручения. Если не задан - проигнорируется.


### Сохранить [PATCH]

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (TaskCardRegularCommissionWithActions)


## Дерево заданий [/task_cards/{id}/task_tree]
- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

### Построить [GET]

### Описание 
Метод возвращает список заданий, составляющий дерево исполнения, включающее текущее задание.

При выполнении метода будет найдено корневое родительское, по отношению к текущему, задание, от которого будет построено дерево заданий.

Информация о задании содержит ограниченный набор атрибутов с двумя связками:
* Исполнители.
* Родительское *оперативное* задание `operative_parent_task`. *Оперативным* оно названо потому, что здесь пропущены связки с родительскими заданиями видов `Поручение` и `Длительное поручение`, которые не нужны при отображени дерева. У заданий довольно часто есть родительское задание типа `Поручение` и `Длительное поручение` из которых бизнес-процессы системы выдают *оперативные* задания, например `На исполнение`.
У корневых заданий `operative_parent_task` отсутствует

+ Request (application/vnd.api+json)


+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes
        + data (array[TaskCardTreeListData, TaskCardTreeListData])
        + included (array[Employee, Employee, Employee] )


## Действие над заданием [/task_cards/{id}/operation/{operation_id}?report={report}]

**Параметры**

- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

- `operation_id` ( **String**, *required* )
Уникальный ID операции (StatesDir::CardKindSettings::Operation)

- `report` ( **String** )
Текст отчета о выполнении, если требуется.

- `action_name` ( **String** )
Имя действия. Требуется дополнительно для некоторых действий с заданиями вида `Расширенное согласование`. См. ниже.

**Пояснения по `action_name`.**

Для некоторых действий над заданием вида `Расширенное согласование` (Подписание, согласование и др..) требуется дополнительный параметр `action_name`

Это необходимо потому-что разные действия могут ссылаться на одну и ту же операцию. 
Например, действия `resume` и `recycle` представляют собой операцию `Completed` с доп. обработкой. В этом случае не возможно точно определить реакцию.
Для разрешения неоднозначных реакций требуется параметр `action_name`. 

Список действий представлен в таблице:

| Имя операции | Допустимые `action_name` |
| - | - |
| Complete | complete; approve; sign; resume; recycle |
| Reject | reject; refuse; cancel |

**Содержание ответа**

В случае успешного действия вернется пустой ответ со статусом 204. Исключение - случай, 
когда есть родительское задание, имеющее статус 'Приёмка'. 
В таком случае вернется хеш с метаданными, содержащими ID родительского задания, а код HTTP статуса будет 200.

### Вызов действия DV [PATCH]
+ Request (application/json)

+ Response 204 (application/json)

+ Request В случае, когда есть родительское задание в статусе 'Приёмка' (application/json)

+ Response 200 (application/vnd.api+json)

        {
            "meta": {
                "parent_task": "959A074E-50E1-E611-A47A-0800279209D4"
            }
        }


## Распределение задания [/task_cards/{id}/delegation_template]
- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

### Получить шаблон распределенного задания [POST]

Метод инициирует создание дочернего задания. 
См. раздел ['Распределение задания'](https://braintent.gitbooks.io/goznak-docs/content/zadaniya__logika_i_arhitektura.html)

Вернется шаблон с предварительно заполненными данными - ссылками, preset'ами и др.
Этот шаблон необходимо так же, как и простой шаблон 'Задание', послать в работу или удалить.

+ Request (application/vnd.api+json)

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes (TaskCardWithActionsDelegation)

## Переназначение задания [/task_cards/{id}/reassign_template]
- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

### Получить шаблон переназначения задания [POST]

Метод создаст шаблон задания, которое, в случае запуска, будет результатом переназначения исходного задания, ID которого указан в параметрах.
См. раздел ['Действие `Переназначить`'](https://braintent.gitbooks.io/goznak-docs/content/task_card__kind_assignment.html)

В ответе будет шаблон с заполненными данными из текущего задания вида `Поручение`. Если текущее задание имеет другой вид (например - `На исполнение`) - берется информация из родительской задачи вида `Поручение`.
Список данных: 

* Все сотрудники (исполнители, соисполнители, контролер и др.)
* Содержание, срок исполнения.
* Все ссылки на связки и файлы.
* Системные: preset'ы и др.

В случае отказа от переназначения шаблон необходимо удалить

+ Request (application/vnd.api+json)

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes (TaskCardWithActionsReassign)

### Запустить шаблон переназначения в работу [PATCH /task_cards/{id}/reassign_template/{template_id}/start]
- `id` ( **String**, *required* )
ID задания, которое будет переназначено (изменено) (`InstanceID` карточки)
- `template_id` ( **String**, *required* )
ID шаблона переназначения задания, полученного методом `Получить шаблон переназначения задания`

Данный метод, подобно обычному запуску шаблона поручения, запустит шаблон в работу и, в дополнение, выполнит обработку, связанную с переназначением (отзыв переназначеного задания и др.)



+ Request (application/vnd.api+json)

    + Attributes (TaskCardPerformParams)

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (TaskCardWithActions)


## Файл задания [/task_cards/{id}/files]
- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

Файлы задания - это карточки документа с типом `Файл`, которые привязаны через список ссылок карточки заданий ссылкой определнного типа.

Добавление могло бы происходить в два шага: 

1. Создание документа типа `Файл`
2. Добавление определенного типа ссылки на новый документ.

Однако, в этом случае, пользователь сможет заливать ни к чему не привязанные файлы, 
по этой причине добавление файла и создание ссылки сделано в едином  методе. 

Файл, на данный момент, заливается способом `multipart/form-data`
Ответ приходит в форме JSON API.

### Добавление [POST]
+ Request (multipart/form-data; boundary=---BOUNDARY)

    + Headers 

            Accept: application/vnd.api+json

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes (CardReferenceLinkCreateDescription)


## Связки, ссылки на документы [/task_cards/{id}/references]
### Добавление [POST /task_cards/{id}/references?card_id={card_id}]

- `id` ( **String**, *required* )
ID задания (`InstanceID` карточки)

- `card_id` ( **String**, *required* )
ID карточки, на которую необходимо создать ссылку (`InstanceID` карточки)

В список связок задания будет добавлена ссылка на указанную карточку

+ Request (application/vnd.api+json)

    + Headers 

            Accept: application/vnd.api+json

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes (DocumentCardReferenceLinkCreateDescription)

### Удаление связки, ссылки на документ или файла [DELETE /task_cards/{id}/references/{reference_id}]
- `id` ( **String**, *required* )
ID задания (`InstanceID` карточки)

- `reference_id` ( **String**, *required* )
ID связки, которую нужно удалить (`InstanceID` карточки)

+ Request (application/vnd.api+json)

    + Headers 

+ Response 204 (application/vnd.api+json)

    + Headers

    + Attributes 

### Копирование связок из отчетов заданий [PATCH /task_cards/{id}/references/copy?from={copy_from}]
- `id` ( **String**, *required* )
ID основного задания задания (`InstanceID` карточки)

- `from` ( **Array**, *required* )
Массив ID заданий, из которых нужно скопировать связки

Метод предназначен для копирования связок из отчетов о завершении заданий, список ID которых указан в параметре `from`, в основное задание.

Примечания:
* Если в указанных через `from` заданиях отсутсвует завершающий цикл - из такого задания никаких ссылок не скопируется.
* Если текущее задание уже имеет ссылку, идентичную копируемой (на ту же карточку и с тем же типом) - ссылка не продублируется.
* В ответе сериализованная задача будет включать только связки типов `КЗ_ДополненияФайлыОтчет` и `КЗ_ДополненияСсылкиОтчет`

+ Request (application/vnd.api+json)

    + Headers 

            Accept: application/vnd.api+json

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes

        + data (object)
            + id: `AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA` (string, required)
            + type: 'task_cards' (string, required)
            + attributes (TaskCardBaseAttributes)
            + relationships (TaskCardOnlyReferencesRelationships)
        + included (array[CardReferenceLinkDescriptionExample1, DocumentCardReferenceRelationInfoFile, VersionedCardRelationInfo, DocumentCardReferenceRelationInfoFile])


# Group Документы

## Доступные шаблоны [/document_cards/available_templates]
Вернет перечисление шаблонов документов, доступных для создания

Ответ содержит папки `document_templates_folder`, разделяющие документы по типам. 
Каждая папка содержит ярлыки, ссылающиеся на ID шаблона. 
Кроме ID шаблона ярлык может содержать дополнительную информацию.

Например: Для ИД прикрепляется `SendingKind` (Вид отправки), с которым будет создан документ.

### Получить [GET]

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

        {
          "data": [
            {
              "id": "A16B6ACF-A10C-48D2-935E-CE01D47D2095",
              "type": "document_templates_folder",
              "attributes": {
                "name": "Служебные записки"
              },
              "relationships": {
                "shortcuts": {
                  "data": [
                    {
                      "id": "3E5D63ED-2F64-4A1D-AD17-D2596F0C2239",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "9E2B8232-CB8A-487F-9C07-3F5C966BBD23",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "82BAE612-E287-4461-BAC3-690165852A0E",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "F3784B83-C995-43EB-8FEC-85226B896CB6",
                      "type": "document_template_shortcuts"
                    }
                  ]
                }
              }
            },
            {
              "id": "9BD58D9F-316F-43BE-8774-DFBED7F60723",
              "type": "document_templates_folder",
              "attributes": {
                "name": "Приказы"
              },
              "relationships": {
                "shortcuts": {
                  "data": [
                    {
                      "id": "863D3F25-5AAE-42B3-995D-2D423B576BAC",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "CFA6FD92-1CCF-43C6-A999-3F3410530D43",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "F0700888-6FBE-40FD-8C0F-CA2CC6C25953",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "2FA1A5F5-FA0D-4724-9B7D-254F93A992C1",
                      "type": "document_template_shortcuts"
                    }
                  ]
                }
              }
            },
            {
              "id": "2FA4EDB1-1B82-4C0C-9A1E-EF61B49A89B6",
              "type": "document_templates_folder",
              "attributes": {
                "name": "Распоряжения"
              },
              "relationships": {
                "shortcuts": {
                  "data": [
                    {
                      "id": "E7D8599E-7B42-4FB3-9F2E-514AE47C5D34",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "94CA92B6-37D2-41B6-AC7D-17A42F00724D",
                      "type": "document_template_shortcuts"
                    }
                  ]
                }
              }
            },
            {
              "id": "FFBC9805-4295-454F-803D-08A181B27BD5",
              "type": "document_templates_folder",
              "attributes": {
                "name": "Исходящая корреспонденция"
              },
              "relationships": {
                "shortcuts": {
                  "data": [
                    {
                      "id": "F377A385-4B4B-4BF1-90F6-C42B5CDAB300",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "BDFC8F79-E656-480F-BC4A-01A9F02D3669",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "705B1265-B931-455B-AEB6-99919727B2B2",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "CA7CB937-1555-4355-BD21-9F756FD1E6F9",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "96CCF4FE-BD89-42DE-B9C8-8F2747D9D60C",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "7B59836D-613B-40D7-A956-AE1793BE7D20",
                      "type": "document_template_shortcuts"
                    }
                  ]
                }
              }
            },
            {
              "id": "C04B520F-17EE-4494-B109-2CACF53502B9",
              "type": "document_templates_folder",
              "attributes": {
                "name": "Указания"
              },
              "relationships": {
                "shortcuts": {
                  "data": [
                    {
                      "id": "26B02C54-7FF6-4954-92A6-9AC4E4DB4196",
                      "type": "document_template_shortcuts"
                    },
                    {
                      "id": "D68D08A6-1F2B-412E-8DB9-B014C1F720A7",
                      "type": "document_template_shortcuts"
                    }
                  ]
                }
              }
            }
          ],
          "included": [
            {
              "id": "3E5D63ED-2F64-4A1D-AD17-D2596F0C2239",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "A2835A5B-48ED-E611-9407-000C29D9CFCB",
                "card_kind": "Служебная записка",
                "sending_kind": null,
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
              "type": "departments",
              "attributes": {
                "name": "Гознак (АО)"
              }
            },
            {
              "id": "9E2B8232-CB8A-487F-9C07-3F5C966BBD23",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "99473778-48ED-E611-9407-000C29D9CFCB",
                "card_kind": "Служебная записка (конфиденциальная)",
                "sending_kind": null,
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "82BAE612-E287-4461-BAC3-690165852A0E",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "6E8CFD86-48ED-E611-9407-000C29D9CFCB",
                "card_kind": "Служебная записка (с согласованием, подписанием и ручной регистрацией)",
                "sending_kind": null,
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "F3784B83-C995-43EB-8FEC-85226B896CB6",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "DFCED894-48ED-E611-9407-000C29D9CFCB",
                "card_kind": "Служебная записка (только регистрация)",
                "sending_kind": null,
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "863D3F25-5AAE-42B3-995D-2D423B576BAC",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "F6BF6640-4CED-E611-9407-000C29D9CFCB",
                "card_kind": "Приказ",
                "sending_kind": null,
                "doc_type": "Основная деятельность"
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "CFA6FD92-1CCF-43C6-A999-3F3410530D43",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "DE2C734D-4CED-E611-9407-000C29D9CFCB",
                "card_kind": "Приказ (только регистрация)",
                "sending_kind": null,
                "doc_type": "Основная деятельность"
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "F0700888-6FBE-40FD-8C0F-CA2CC6C25953",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "CA7B787D-4CED-E611-9407-000C29D9CFCB",
                "card_kind": "Приказ",
                "sending_kind": null,
                "doc_type": "Административно-хозяйственные вопросы"
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "2FA1A5F5-FA0D-4724-9B7D-254F93A992C1",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "6D9E3686-4CED-E611-9407-000C29D9CFCB",
                "card_kind": "Приказ (только регистрация)",
                "sending_kind": null,
                "doc_type": "Административно-хозяйственные вопросы"
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "E7D8599E-7B42-4FB3-9F2E-514AE47C5D34",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "BC834961-51ED-E611-9407-000C29D9CFCB",
                "card_kind": "Распоряжение",
                "sending_kind": null,
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "94CA92B6-37D2-41B6-AC7D-17A42F00724D",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "C1643A8A-51ED-E611-9407-000C29D9CFCB",
                "card_kind": "Распоряжение (только регистрация)",
                "sending_kind": null,
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "F377A385-4B4B-4BF1-90F6-C42B5CDAB300",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "F590195C-4AED-E611-9407-000C29D9CFCB",
                "card_kind": "Исходящий документ",
                "sending_kind": "Централизованно",
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "BDFC8F79-E656-480F-BC4A-01A9F02D3669",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "5B3BB9AB-4AED-E611-9407-000C29D9CFCB",
                "card_kind": "Исходящий документ (конфиденциальный)",
                "sending_kind": "Централизованно",
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "705B1265-B931-455B-AEB6-99919727B2B2",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "02F064C2-4AED-E611-9407-000C29D9CFCB",
                "card_kind": "Исходящий документ (только регистрация)",
                "sending_kind": "Централизованно",
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "CA7CB937-1555-4355-BD21-9F756FD1E6F9",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "69DEC6DB-4AED-E611-9407-000C29D9CFCB",
                "card_kind": "Исходящий документ",
                "sending_kind": "Самостоятельно",
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": null
                }
              }
            },
            {
              "id": "96CCF4FE-BD89-42DE-B9C8-8F2747D9D60C",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "76DEC6DB-4AED-E611-9407-000C29D9CFCB",
                "card_kind": "Исходящий документ (конфиденциальный)",
                "sending_kind": "Самостоятельно",
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": null
                }
              }
            },
            {
              "id": "7B59836D-613B-40D7-A956-AE1793BE7D20",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "83DEC6DB-4AED-E611-9407-000C29D9CFCB",
                "card_kind": "Исходящий документ (только регистрация)",
                "sending_kind": "Самостоятельно",
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": null
                }
              }
            },
            {
              "id": "26B02C54-7FF6-4954-92A6-9AC4E4DB4196",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "34A47EEA-51ED-E611-9407-000C29D9CFCB",
                "card_kind": "Указание",
                "sending_kind": null,
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "D68D08A6-1F2B-412E-8DB9-B014C1F720A7",
              "type": "document_template_shortcuts",
              "attributes": {
                "template_id": "237A43FC-51ED-E611-9407-000C29D9CFCB",
                "card_kind": "Указание (только регистрация)",
                "sending_kind": null,
                "doc_type": null
              },
              "relationships": {
                "branch_department": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            }
          ]
        }

## Создание документа по шаблону [/document_cards/drafts?template_id={template_id}]
- `template_id` ( **String**, *required* )
UUID шаблона, по которому требуется создать документ

- `linked_card_id` ( **String** )
Необязательный параметр, добавляет связку с карточкой, UUID которой указан в параметре. Использовать для создания связанного документа (`InstanceID` карточки)

Метод создаст документ по указанному шаблону и вернет основную информацию.
Созданный документ будет иметь статус `Проект` и получит проектный номер.

Ответ будет сериализован так же, как и при просмотре (`show`) документа, однако к шаблону не будут присылаться зависимости (included)

### Создать [POST]
+ Request (application/vnd.api+json)

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes (DocumentCardCreatedDraftTemplate)

## Удаление проекта документа [/document_cards/drafts/{draft_id}]
- `draft_id` ( **String**, *required* )
UUID проекта документа, представленного к удалению

Удаление проекта документа. Если документ имеет состояние, отличное от `Drafting` - вернется ошибка

### Удалить [DELETE]

+ Request (application/vnd.api+json)

+ Response 204



## Сохранение документа [/document_cards/{id}/save]

Сохранение данных документа. Принимает атрибуты и данные зависимостей в теле запроса по стандарту JSONAPI.

При описании сложных зависимостей ([compound documents](http://jsonapi.org/format/#document-compound-documents)) из `relationships` необходимо присылать сгенерированный UUID, по которому будет найден элемент того же типа из `included`. К примеру, это касается согласующих (тип `document_card_approvers`)

Перечень доступных для сохранения обязательных и дополнительных данных можно посмотреть по ссылке [Создание карточек типа `Документ`](https://braintent.gitbooks.io/goznak-docs/content/dokument_card/sozdanie-dokumentov.html) в абзаце *Заполнение данных. Сохранение документа.*


#### Замечания
* Важно, что связки (`references`) и файлы (`files`) присылать в теле нельзя, а нужно прикреплять/удалять отдельными методами. Данный метод их не обработает.
* При каждом сохранении необходимо присылать полный перечень зависимостей (согласующие, получатели, подписанты и др.) т.к. в БД, зависимости, присылаемые в `relationships` создаются по принятым данным, заменяя существующие. Т.е. **данные из БД будут перезаписаны**. 
* У контрагента из списка получателей (`document_card_recipients`) атрибуты `address`, `email_recipient`, `fax_recipient`, `email_organization` и  `fax_organization` не являются обязательными. В случае их отсутсвия они будут заполнены автоматически из данных огранизации-контрагента
* Сохранение доступно только в состояниях `Черновик`(`Drafting`) и `Доработка`(`In work`)

#### Примеры запросов
Для удобства приведено несколько примеров запросов и ответов: один общий и несколько для конкретных типов заданий

### Сохранить [PATCH]

+ Request (application/vnd.api+json)
    + Attributes (DocumentCardSaveParamsBody)

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (DocumentCardCreatedDraftTemplate)

### Сохранить СЗ [PATCH /document_cards/{id}/save?dummy_apiary_param=СЗ]

+ Request (application/vnd.api+json)

        {
          "data": {
            "id": "F847E5D3-96E8-E611-BFB2-0800279209D4",
            "type": "document_cards",
            "attributes": {
              "name": "СЗ намба ван",
              "content": "содержание СЗ s sayta",
              "deadline": "2018-10-25T16:52:57.050Z"
            },
            "relationships": {
              "receiver_employees": {
                "data": [
                  {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                ]
              },
              "case": {
                "data": {
                  "id": "D2672D78-102C-43A7-8C00-925CF846AB89",
                  "type": "cases"
                }
              },
              "signers": {
                "data": [
                  {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                ]
              },
              "preparator": {
                "data": {
                  "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                  "type": "employees"
                }
              },
              "copy_recipients": {
                "data": [
                  {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                ]
              }
            }
          }

        }

+ Response 200 (application/vnd.api+json)

        {
          "data": {
            "id": "F847E5D3-96E8-E611-BFB2-0800279209D4",
            "type": "document_cards",
            "attributes": {
              "description": "СЗ № намба ван",
              "card_kind_name": "Служебная записка",
              "card_kind_id": "426D03DB-88EA-45A3-AC3E-7BD58F8FED5D",
              "state_default_name": "Drafting",
              "change_date_time": "2017-02-07T20:49:01.699Z",
              "creation_date_time": "2017-02-01T22:55:19.163Z",
              "state_id": "58E2D5C0-EA34-4FC3-881F-E168BE3851A7",
              "state_name": "Проект",
              "built_in_state_name": null,
              "parent_card_kind_name": "Служебные записки",
              "parent_card_kind_id": "9B83DD42-8F74-4B40-B2E3-43E43B60B3F5",
              "name": "СЗ № намба ван",
              "content": "содержание СЗ s sayta",
              "control_date": null,
              "stop_control_date": null,
              "deadline": "2018-10-25T16:52:57.050Z",
              "controlled": false,
              "case_name": null,
              "number_of_sheets": null,
              "number_of_sheets_appendix": null,
              "added_to_favorites_at": null,
              "project_number": "14",
              "registration_number": "СЗ-147",
              "registration_date": null
            },
            "relationships": {
              "receiver_employees": {
                "data": [
                  {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                ]
              }
              "references": {
                "data": []
              },
              "files": {
                "data": []
              },
              "preparator": {
                "data": {
                  "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                  "type": "employees"
                }
              },
              "registrar": {
                "data": null
              },
              "signers": {
                "data": [
                  {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                ]
              },
              "comments": {
                "data": []
              },
              "approvers": {
                "data": []
              },
              "copy_recipients": {
                "data": [
                  {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                ]
              }
            }
          },
          "included": [
            {
              "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
              "type": "employees",
              "attributes": {
                "first_name": null,
                "last_name": "Администратор",
                "middle_name": null,
                "display_string": "Администратор, ГОЗНАК (АО)",
                "gender": "male",
                "has_photo": true
              },
              "relationships": {
                "unit": {
                  "data": null
                },
                "company": {
                  "data": {
                    "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type": "departments"
                  }
                }
              }
            },
            {
              "id": "38166F8F-B87A-4424-A322-3C0DBE4C28ED",
              "type": "departments",
              "attributes": {
                "name": "ГОЗНАК (АО)"
              }
            }
          ]
        }

### Сохранить ИД [PATCH /document_cards/{id}/save?dummy_apiary_param=ИД]

+ Request (application/vnd.api+json)

        {
          "data": {
            "id": "CFB142DE-05E7-E611-BFB2-0800279209D4",
            "type": "document_cards",
            "attributes": {
              "name": "демо делегирования",
              "content": "демо делегированиядемо делегирования",
              "number_of_sheets": "1",
              "number_of_sheets_appendix": "12"
            },
            "relationships": {
              "case": {
                "data": {
                  "id": "D2672D78-102C-43A7-8C00-925CF846AB89",
                  "type": "cases"
                }
              },
              "preparator": {
                "data": {
                  "id": "A623F423-F061-491C-942A-2062A6A36F23",
                  "type": "employees"
                }
              },
              "recipients": {
                "data": [
                  {
                    "id": "1E922FEA-8671-461C-B067-0C2CB274C79A",
                    "type": "document_card_recipients"
                  },
                  {
                    "id": "1E922FEA-8671-461C-B067-0C2CB274C79B",
                    "type": "document_card_recipients"
                  }
                ]
              },
              "signers": {
                "data": [
                  {
                    "id": "97AF0536-09A0-4F13-9079-4E9FF30C2148",
                    "type": "employees"
                  }
                ]
              },
              "approvers": {
                "data": [
                  {
                    "id": "B107B4A6-DBD5-49A5-A1D4-D5136E5B08BA",
                    "type": "document_card_approvers"
                  }
                ]
              }
            }
          },
          "included": [
            {
              "id": "B107B4A6-DBD5-49A5-A1D4-D5136E5B08BA",
              "type": "document_card_approvers",
              "attributes": {
                "number": 1,
                "order": 2,
                "route_type": "parallel"
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "1E922FEA-8671-461C-B067-0C2CB274C79A",
              "type": "document_card_recipients",
              "attributes": {
                "address": "123, Новосибирск, Иванова,3, Руссия",
                "email_recipient": "SH",
                "fax_recipient": "AA",
                "email_organization": "123@mail.ru",
                "fax_organization": "333-333-333"
              },
              "relationships": {
                "sending_type": {
                  "data": {
                    "id": "026940CF-D3B1-4C4A-BDF2-E3FF18DC6623",
                    "type": "outcoming_doc_sending_kinds"
                  }
                },
                "organization": {
                  "data": {
                    "id": "9E7B525A-14D3-43BF-8265-2E9E4BC7CE5F",
                    "type": "partners_dir_companies"
                  }
                },
                "recipient": {
                  "data": {
                    "id": "9492EEFA-67CC-40F6-87C6-1C952D81186E",
                    "type": "partners_dir_employees"
                  }
                }
              }
            },
                {
              "id": "1E922FEA-8671-461C-B067-0C2CB274C79B",
              "type": "document_card_recipients",
              "attributes": {
              },
              "relationships": {
                "sending_type": {
                  "data": {
                    "id": "026940CF-D3B1-4C4A-BDF2-E3FF18DC6623",
                    "type": "outcoming_doc_sending_kinds"
                  }
                },
                "organization": {
                  "data": {
                    "id": "DE874E38-3E74-4019-A54A-B41E82D57ECA",
                    "type": "partners_dir_companies"
                  }
                },
                "recipient": {
                  "data": {
                    "id": "85867F8C-BDF0-42B8-8590-E0CD2AACE2B3",
                    "type": "partners_dir_employees"
                  }
                }
              }
            }
          ]
        }

+ Response 200 (application/vnd.api+json)

        {
          "data": {
            "id": "CFB142DE-05E7-E611-BFB2-0800279209D4",
            "type": "document_cards",
            "attributes": {
              "description": "Исходящий: демо делегирования",
              "card_kind_name": "Исходящий документ",
              "card_kind_id": "0EEBB19D-C9F0-430E-A24A-84E93A669D77",
              "state_default_name": "Drafting",
              "change_date_time": "2017-02-07T20:50:49.196Z",
              "creation_date_time": "2017-01-30T23:05:08.127Z",
              "state_id": "51EC6BB2-F191-45F8-B2AB-457B9F5EBE24",
              "state_name": "Проект",
              "built_in_state_name": null,
              "parent_card_kind_name": "Исходящие документы",
              "parent_card_kind_id": "B324E740-94CB-40D1-BF6B-28B83DC127C9",
              "name": "демо делегирования",
              "content": "демо делегированиядемо делегирования",
              "case_name": null,
              "number_of_sheets": 1,
              "number_of_sheets_appendix": 12,
              "added_to_favorites_at": null,
              "project_number": "239",
              "registration_number": "Исх-101",
              "registration_date": null,
              "sending_type": null,
              "attachment": null
            },
            "relationships": {
              "recipients": {
                "data": [
                  {
                    "id": "1E922FEA-8671-461C-B067-0C2CB274C79A",
                    "type": "document_card_recipients"
                  },
                  {
                    "id": "1E922FEA-8671-461C-B067-0C2CB274C79B",
                    "type": "document_card_recipients"
                  }
                ]
              },
              "references": {
                "data": [
                  {
                    "id": "94782E50-4F90-4BF5-8494-F9CDC4B1F663",
                    "type": "reference_list_card_references"
                  }
                ]
              },
              "files": {
                "data": []
              },
              "preparator": {
                "data": {
                  "id": "A623F423-F061-491C-942A-2062A6A36F23",
                  "type": "employees"
                }
              },
              "registrar": {
                "data": null
              },
              "signers": {
                "data": [
                  {
                    "id": "97AF0536-09A0-4F13-9079-4E9FF30C2148",
                    "type": "employees"
                  }
                ]
              },
              "comments": {
                "data": []
              },
              "approvers": {
                "data": [
                  {
                    "id": "B107B4A6-DBD5-49A5-A1D4-D5136E5B08BA",
                    "type": "document_card_approvers"
                  }
                ]
              }
            }
          },
          "included": [
            {
              "id": "1E922FEA-8671-461C-B067-0C2CB274C79A",
              "type": "document_card_recipients",
              "attributes": {
                "address": "123, Новосибирск, Иванова,3, Руссия",
                "email_recipient": "SH",
                "fax_recipient": "AA",
                "email_organization": "123@mail.ru",
                "fax_organization": "333-333-333",
                "sending_type_name": "Письмо"
              },
              "relationships": {
                "organization": {
                  "data": {
                    "id": "9E7B525A-14D3-43BF-8265-2E9E4BC7CE5F",
                    "type": "partners_dir_companies"
                  }
                },
                "recipient": {
                  "data": {
                    "id": "9492EEFA-67CC-40F6-87C6-1C952D81186E",
                    "type": "partners_dir_employees"
                  }
                }
              }
            },
            {
              "id": "9E7B525A-14D3-43BF-8265-2E9E4BC7CE5F",
              "type": "partners_dir_companies",
              "attributes": {
                "name": "Восток (ЗАО)",
                "full_name": "Закрытое акционерное общество \"Восток\""
              }
            },
            {
              "id": "9492EEFA-67CC-40F6-87C6-1C952D81186E",
              "type": "partners_dir_employees",
              "attributes": {
                "first_name": "Сергей",
                "last_name": "Мамаев",
                "middle_name": "Андреевич",
                "display_string": "Мамаев Сергей Андреевич"
              },
              "relationships": {
                "position": {
                  "data": {
                    "id": "342F9108-54CA-437B-8C13-D4EBBDBF3A76",
                    "type": "partners_dir_positions"
                  }
                }
              }
            },
            {
              "id": "342F9108-54CA-437B-8C13-D4EBBDBF3A76",
              "type": "partners_dir_positions",
              "attributes": {
                "name": "Генеральный директор"
              }
            },
            {
              "id": "1E922FEA-8671-461C-B067-0C2CB274C79B",
              "type": "document_card_recipients",
              "attributes": {
                "address": "П111345, Москва, ул. Новая, д.9, Руссия",
                "email_recipient": "cmirnof@mail.ru",
                "fax_recipient": "(495) 345-45-67",
                "email_organization": "info@itkon.ru",
                "fax_organization": "(495) 345-45-43",
                "sending_type_name": "Письмо"
              },
              "relationships": {
                "organization": {
                  "data": {
                    "id": "DE874E38-3E74-4019-A54A-B41E82D57ECA",
                    "type": "partners_dir_companies"
                  }
                },
                "recipient": {
                  "data": {
                    "id": "85867F8C-BDF0-42B8-8590-E0CD2AACE2B3",
                    "type": "partners_dir_employees"
                  }
                }
              }
            },
            {
              "id": "DE874E38-3E74-4019-A54A-B41E82D57ECA",
              "type": "partners_dir_companies",
              "attributes": {
                "name": "Итокон (ООО)",
                "full_name": "Общество с ограниченной ответственностью \"Итекон\""
              }
            },
            {
              "id": "85867F8C-BDF0-42B8-8590-E0CD2AACE2B3",
              "type": "partners_dir_employees",
              "attributes": {
                "first_name": "Александр",
                "last_name": "Смирнов",
                "middle_name": "Иванович",
                "display_string": "Смирнов Александр Иванович"
              },
              "relationships": {
                "position": {
                  "data": {
                    "id": "342F9108-54CA-437B-8C13-D4EBBDBF3A76",
                    "type": "partners_dir_positions"
                  }
                }
              }
            },
            {
              "id": "94782E50-4F90-4BF5-8494-F9CDC4B1F663",
              "type": "reference_list_card_references",
              "attributes": {
                "type_name": "КЗ_ДополненияКарточкиВх",
                "type_description": "Связанные карточки",
                "creation_date": "2017-02-03T14:12:05.649Z"
              },
              "relationships": {
                "destination_card": {
                  "data": {
                    "id": "8105A10F-3BD3-4CDE-BF58-F7C29FA7AB6F",
                    "type": "task_cards"
                  }
                }
              }
            },
            {
              "id": "8105A10F-3BD3-4CDE-BF58-F7C29FA7AB6F",
              "type": "task_cards",
              "attributes": {
                "description": "Поручение от 03.02.2017",
                "card_kind_name": "Поручение",
                "card_kind_id": "866625C0-89D0-4A5F-863C-1DB770958D99",
                "state_default_name": "Started",
                "change_date_time": "2017-02-03T21:17:08.483Z",
                "creation_date_time": "2017-02-03T21:10:38.343Z",
                "state_id": "83AD6A8D-786C-4645-9082-83EBCD25057F",
                "state_name": "Исполняется",
                "built_in_state_name": "started"
              }
            },
            {
              "id": "A623F423-F061-491C-942A-2062A6A36F23",
              "type": "employees",
              "attributes": {
                "first_name": "Петр",
                "last_name": "Петров",
                "middle_name": "Сергеевич",
                "display_string": "Петров П. С., ГОЗНАК (АО)",
                "gender": "male",
                "has_photo": false
              }
            },
            {
              "id": "B107B4A6-DBD5-49A5-A1D4-D5136E5B08BA",
              "type": "document_card_approvers",
              "attributes": {
                "date_begin": null,
                "date_end": null,
                "number": 1,
                "order": 1,
                "route_type": "parallel",
                "state": null,
                "comment": null
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
              "type": "employees",
              "attributes": {
                "first_name": null,
                "last_name": "Администратор",
                "middle_name": null,
                "display_string": "Администратор, ГОЗНАК (АО)",
                "gender": "male",
                "has_photo": true
              }
            }
          ]
        }

### Сохранить РД - Указание [PATCH /document_cards/{id}/save?dummy_apiary_param=РД]

+ Request (application/vnd.api+json)

        {
          "data": {
            "id": "2CD9ECBC-6AE9-E611-BFB2-0800279209D4",
            "type": "document_cards",
            "attributes": {
              "name": "Тест списков исполнения и ознакомления РД из списка РД",
              "content": "Очень большое содержание РД вида указание: Тест списков исполнения и ознакомления РД из списка РД; Тест списков исполнения и ознакомления РД из списка РД; Тест списков исполнения и ознакомления РД из списка РД",
              "number_of_sheets": 12,
              "number_of_sheets_appendix": 12
            },
            "relationships": {
              "preparator": {
                "data": {
                  "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                  "type": "employees"
                }
              },
              "signers": {
                "data": [
                  {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                ]
              },
              "guidline_type": {
                "data": {
                  "id": "D918A8EB-9EF0-4CFC-AB5A-EEA7383CE9ED",
                  "type": "guidline_document_types"
                }
              },
              "approvers": {
                "data": [
                  {
                    "id": "843363B5-1363-4759-B798-81E8B153CEAA",
                    "type": "document_card_approvers"
                  },
                  {
                    "id": "3A5D0171-1092-40D2-A215-FDACA217C8AA",
                    "type": "document_card_approvers"
                  }
                ]
              },
              "controller": {
                "data": {
                  "id": "97AF0536-09A0-4F13-9079-4E9FF30C2148",
                  "type": "employees"
                }
              },
              "perform_list": {
                "data": [
                  {
                    "id": "B3CD29BC-75C1-48F6-B1DB-15A339AC45AA",
                    "type": "document_card_perform_list_item"
                  },
                  {
                    "id": "E06748E0-FCAD-4E5D-B32C-F7B8657C24AA",
                    "type": "document_card_perform_list_item"
                  }
                ]
              },
              "inform_list": {
                "data": [
                  {
                    "id": "F2F544A3-D3F5-4488-BA24-32E537507DAA",
                    "type": "document_card_inform_list_item"
                  },
                  {
                    "id": "277FC910-3BD9-4AF8-A895-DDC3DDE7CCAA",
                    "type": "document_card_inform_list_item"
                  }
                ]
              }
            }
          },
          "included": [
            {
              "id": "843363B5-1363-4759-B798-81E8B153CEAA",
              "type": "document_card_approvers",
              "attributes": {
                "number": 1,
                "route_type": "parallel"
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "3A5D0171-1092-40D2-A215-FDACA217C8AA",
              "type": "document_card_approvers",
              "attributes": {
                "number": 2,
                "route_type": "parallel"
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "B3CD29BC-75C1-48F6-B1DB-15A339AC45AA",
              "type": "document_card_perform_list_item",
              "attributes": {
                "content": "Тестирование задания из листа исполнения 1",
                "deadline": "2017-03-02T00:00:00.000Z"
              },
              "relationships": {
                "performer": {
                  "data": {
                    "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
                    "type": "employees"
                  }
                },
                "controller": {
                  "data": {
                    "id": "A623F423-F061-491C-942A-2062A6A36F23",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "E06748E0-FCAD-4E5D-B32C-F7B8657C24AA",
              "type": "document_card_perform_list_item",
              "attributes": {
                "content": "Тест на исп из списка РД 2",
                "deadline": "2017-03-03T00:00:00.000Z"
              },
              "relationships": {
                "performer": {
                  "data": {
                    "id": "FE6A4BE9-2C74-425D-BFFE-F4E590E8472B",
                    "type": "employees"
                  }
                },
                "controller": {
                  "data": {
                    "id": "292D7064-CF03-46C7-8F3D-6E51DBFFA4E8",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "F2F544A3-D3F5-4488-BA24-32E537507DAA",
              "type": "document_card_inform_list_item",
              "attributes": {
                "content": "Тест на ознакомление из списка РД"
              },
              "relationships": {
                "performer": {
                  "data": {
                    "id": "DB1CB64D-48CB-4846-9D3A-3ACFE28175B6",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "277FC910-3BD9-4AF8-A895-DDC3DDE7CCAA",
              "type": "document_card_inform_list_item",
              "attributes": {
                "content": "Тест на ознакомление из списка РД"
              },
              "relationships": {
                "performer": {
                  "data": {
                    "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
                    "type": "employees"
                  }
                }
              }
            }
          ]
        }

+ Response 200 (application/vnd.api+json)

        {
          "data": {
            "id": "2CD9ECBC-6AE9-E611-BFB2-0800279209D4",
            "type": "document_cards",
            "attributes": {
              "description": "Распорядительный документ: Тест списков исполнения и ознакомления РД из списка РД",
              "card_kind_name": "Указание",
              "card_kind_id": "F92AD18C-9166-4110-924E-2362816E1018",
              "state_default_name": "Drafting",
              "change_date_time": "2017-02-07T20:55:10.113Z",
              "creation_date_time": "2017-02-03T00:12:13.823Z",
              "state_id": "8C761F7E-A8F1-47F8-9DD7-E275A12F4309",
              "state_name": "Проект",
              "built_in_state_name": null,
              "parent_card_kind_name": "Распорядительные документы",
              "parent_card_kind_id": "39AE8E8E-E010-41D0-8987-9DD1B6351ABE",
              "name": "Тест списков исполнения и ознакомления РД из списка РД",
              "content": "Очень большое содержание РД вида указание: Тест списков исполнения и ознакомления РД из списка РД; Тест списков исполнения и ознакомления РД из списка РД; Тест списков исполнения и ознакомления РД из списка РД",
              "doc_type": "Основная деятельность",
              "case_name": null,
              "number_of_sheets": 12,
              "number_of_sheets_appendix": 12,
              "added_to_favorites_at": null,
              "project_number": "80",
              "registration_number": null,
              "registration_date": null
            },
            "relationships": {
              "references": {
                "data": []
              },
              "files": {
                "data": [
                  {
                    "id": "E6404C8F-89B5-458D-A941-2DBE516D2170",
                    "type": "document_card_files"
                  },
                  {
                    "id": "724E93B5-BEF6-4CDD-A234-F7255C8322BF",
                    "type": "document_card_files"
                  }
                ]
              },
              "preparator": {
                "data": {
                  "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                  "type": "employees"
                }
              },
              "registrar": {
                "data": {
                  "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                  "type": "employees"
                }
              },
              "signers": {
                "data": [
                  {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                ]
              },
              "comments": {
                "data": []
              },
              "approvers": {
                "data": [
                  {
                    "id": "843363B5-1363-4759-B798-81E8B153CEAA",
                    "type": "document_card_approvers"
                  },
                  {
                    "id": "3A5D0171-1092-40D2-A215-FDACA217C8AA",
                    "type": "document_card_approvers"
                  }
                ]
              },
              "transfers": {
                "data": []
              },
              "controller": {
                "data": null
              },
              "perform_list": {
                "data": [
                  {
                    "id": "B3CD29BC-75C1-48F6-B1DB-15A339AC45AA",
                    "type": "document_card_perform_list_item"
                  },
                  {
                    "id": "E06748E0-FCAD-4E5D-B32C-F7B8657C24AA",
                    "type": "document_card_perform_list_item"
                  }
                ]
              },
              "inform_list": {
                "data": [
                  {
                    "id": "F2F544A3-D3F5-4488-BA24-32E537507DAA",
                    "type": "document_card_inform_list_item"
                  },
                  {
                    "id": "277FC910-3BD9-4AF8-A895-DDC3DDE7CCAA",
                    "type": "document_card_inform_list_item"
                  }
                ]
              }
            }
          },
          "included": [
            {
              "id": "E6404C8F-89B5-458D-A941-2DBE516D2170",
              "type": "document_card_files",
              "attributes": {
                "file_type": "main"
              },
              "relationships": {
                "file_card": {
                  "data": {
                    "id": "2298F56D-AE98-4A14-ACDC-931726354711",
                    "type": "versioned_file_cards"
                  }
                }
              }
            },
            {
              "id": "2298F56D-AE98-4A14-ACDC-931726354711",
              "type": "versioned_file_cards",
              "attributes": {
                "description": "Снимок экрана от 2016-08-01 14-03-55.png",
                "file_name": "Снимок экрана от 2016-08-01 14-03-55.png",
                "current_version_number": 1,
                "current_version_file_id": "FA6F5125-9C2D-4B4C-9DC2-27F333ECDF25"
              }
            },
            {
              "id": "724E93B5-BEF6-4CDD-A234-F7255C8322BF",
              "type": "document_card_files",
              "attributes": {
                "file_type": "main"
              },
              "relationships": {
                "file_card": {
                  "data": {
                    "id": "218B7636-4BE8-46E7-BFE1-6FB59E772807",
                    "type": "versioned_file_cards"
                  }
                }
              }
            },
            {
              "id": "218B7636-4BE8-46E7-BFE1-6FB59E772807",
              "type": "versioned_file_cards",
              "attributes": {
                "description": "Снимок экрана от 2016-08-01 14-03-55.png",
                "file_name": "Снимок экрана от 2016-08-01 14-03-55.png",
                "current_version_number": 1,
                "current_version_file_id": "8B404C15-A7E6-44C4-ACD6-8C81D2590FB2"
              }
            },
            {
              "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
              "type": "employees",
              "attributes": {
                "first_name": null,
                "last_name": "Администратор",
                "middle_name": null,
                "display_string": "Администратор, ГОЗНАК (АО)",
                "gender": "male",
                "has_photo": true
              }
            },
            {
              "id": "843363B5-1363-4759-B798-81E8B153CEAA",
              "type": "document_card_approvers",
              "attributes": {
                "date_begin": null,
                "date_end": null,
                "number": 1,
                "order": 1,
                "route_type": "parallel",
                "state": null,
                "comment": null
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "3A5D0171-1092-40D2-A215-FDACA217C8AA",
              "type": "document_card_approvers",
              "attributes": {
                "date_begin": null,
                "date_end": null,
                "number": 2,
                "order": 2,
                "route_type": "parallel",
                "state": null,
                "comment": null
              },
              "relationships": {
                "employee": {
                  "data": {
                    "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
              "type": "employees",
              "attributes": {
                "first_name": "Иван",
                "last_name": "Дроботенко",
                "middle_name": "Николаевич",
                "display_string": "Дроботенко И. Н.",
                "gender": "male",
                "has_photo": false
              }
            },
            {
              "id": "B3CD29BC-75C1-48F6-B1DB-15A339AC45AA",
              "type": "document_card_perform_list_item",
              "attributes": {
                "content": "Тестирование задания из листа исполнения 1",
                "deadline": "2017-03-02T00:00:00.000Z",
                "completion_date": null
              },
              "relationships": {
                "performer": {
                  "data": {
                    "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
                    "type": "employees"
                  }
                },
                "controller": {
                  "data": {
                    "id": "A623F423-F061-491C-942A-2062A6A36F23",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "A623F423-F061-491C-942A-2062A6A36F23",
              "type": "employees",
              "attributes": {
                "first_name": "Петр",
                "last_name": "Петров",
                "middle_name": "Сергеевич",
                "display_string": "Петров П. С., ГОЗНАК (АО)",
                "gender": "male",
                "has_photo": false
              }
            },
            {
              "id": "E06748E0-FCAD-4E5D-B32C-F7B8657C24AA",
              "type": "document_card_perform_list_item",
              "attributes": {
                "content": "Тест на исп из списка РД 2",
                "deadline": "2017-03-03T00:00:00.000Z",
                "completion_date": null
              },
              "relationships": {
                "performer": {
                  "data": {
                    "id": "FE6A4BE9-2C74-425D-BFFE-F4E590E8472B",
                    "type": "employees"
                  }
                },
                "controller": {
                  "data": {
                    "id": "292D7064-CF03-46C7-8F3D-6E51DBFFA4E8",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "FE6A4BE9-2C74-425D-BFFE-F4E590E8472B",
              "type": "employees",
              "attributes": {
                "first_name": "Назар",
                "last_name": "Рохмистров",
                "middle_name": "Олегович",
                "display_string": "Рохмистров Н. О.",
                "gender": "male",
                "has_photo": false
              }
            },
            {
              "id": "292D7064-CF03-46C7-8F3D-6E51DBFFA4E8",
              "type": "employees",
              "attributes": {
                "first_name": "Сергей",
                "last_name": "Сидоров",
                "middle_name": "Сергеевич",
                "display_string": "Сидоров С. С., ГОЗНАК (АО)",
                "gender": "male",
                "has_photo": false
              }
            },
            {
              "id": "F2F544A3-D3F5-4488-BA24-32E537507DAA",
              "type": "document_card_inform_list_item",
              "attributes": {
                "content": "Тест на ознакомление из списка РД",
                "completion_date": null
              },
              "relationships": {
                "performer": {
                  "data": {
                    "id": "DB1CB64D-48CB-4846-9D3A-3ACFE28175B6",
                    "type": "employees"
                  }
                }
              }
            },
            {
              "id": "DB1CB64D-48CB-4846-9D3A-3ACFE28175B6",
              "type": "employees",
              "attributes": {
                "first_name": "Тест2",
                "last_name": "Тестов",
                "middle_name": null,
                "display_string": "Тестов Т., Тестовое подразделение",
                "gender": "blank",
                "has_photo": false
              }
            },
            {
              "id": "277FC910-3BD9-4AF8-A895-DDC3DDE7CCAA",
              "type": "document_card_inform_list_item",
              "attributes": {
                "content": "Тест на ознакомление из списка РД",
                "completion_date": null
              },
              "relationships": {
                "performer": {
                  "data": {
                    "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
                    "type": "employees"
                  }
                }
              }
            }
          ]
        }

## Запустить согласовние [/document_cards/{id}/start_approving]

Метод запускает согласование. Перед запуском согласования информация о документе должна быть заполнена и корректно сохранена

### Запустить согласование [PATCH]

+ Request (application/vnd.api+json)

+ Response 204 (application/vnd.api+json)

    + Headers

    + Attributes ()


## Сохранить и запустить согласование [/document_cards/{id}/save_and_start_approving]

Метод объединяет сохранение данных документа и запуск согласования.

Обработка происходит в точности так же, как и у метода `Сохранить`, т.е. сработают все те же валидаторы и запись данных о документе.
После удачного сохранения информации документа - будет запущен процесс согласования.

Более развернутые примеры запросов и ответов (для СЗ, ИД, РД) можно посмотреть в методе `Сохранить`

### Сохранить и запустить согласование [PATCH]

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (DocumentCardCreatedDraftTemplate)

## Сформировать документ [/document_cards/{id}/form_file]

Метод вызовет формирование файла документа.

Сфомированный файл документа будет приложен к документу в зависимости `files` (секция `DocumentCard::File`)

Если по документу уже был сформирован файл - вновь сформированный файл будет добавлен как новая версия существующего.

### Сформировать документ [PATCH]

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (DocumentCardFileFormedResponse)



## Зарегистрировать [/document_cards/{id}/register]

Метод выполнит команду `Зарегистрировать` для документа

Доступен только для сохраненных документов следующих типов: 
* Служебная записка
* Распорядительный документ
* Исходящий документ

Ответ от сервера будет содержать всю информацию о документе. Как и в методе `Информацию по документу`

### Зарегистрировать [PATCH]

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes (DocumentCardCreatedDraftTemplate)



## Поиск по документам [/document_cards/search?text={text}&kinds%5B%5D={kinds}&states%5B%5D={states}&limit={limit}&offset={offset}&controlled={controlled}&creation_date_from={creation_date_from}&creation_date_to={creation_date_to}&receiver%5B%5D={receivers}&signer%5B%5D={signers}&approver%5B%5D={approvers}&performer%5B%5D={performers}&partner%5B%5D={partners}]

Метод используется для расширенного поиска по документам.
На выходе будут выданы сериализованные документы с различными подгруженными зависимостями (для некоторых типов документа).

##### Таблица с описанием параметров

| Имя параметра | Описание | Обязательный? | Тип | Тип данных | 
| - | - | - | - | - |
| text               | Искомая строка            |    | Одиночный  | Строка                                        |
| kinds              | Фильтр по типам           |    | Массив     | Набор строк из таблицы фильтров по типам      |
| states             | Фильтр по состояниям      |    | Массив     | Набор строк из таблицы фильтров по состояниям |
| limit              | Лимит выборки             | да | Одиночный  | Положительное число                           |
| offset             | Сдвиг выборки             | да | Одиночный  | Положительное число                           |
| controlled         | Фильтр `На контроле`      |    | Одиночный  | `true` или `false`                            |
| creation_date_from | Фильтр даты создания `от` |    | Одиночный  | Дата                                          |
| creation_date_to   | Фильтр даты создания `до` |    | Одиночный  | Дата                                          |
| receiver           | Фильтр по получателям     |    | Массив     | UUID сотрудников                              |
| signer             | Фильтр по подписантам     |    | Массив     | UUID сотрудников                              |
| approver           | Фильтр по согласующим     |    | Массив     | UUID сотрудников                              |
| performer          | Фильтр по исполнителям    |    | Массив     | UUID сотрудников                              |
| partner            | Фильтр по контрагентам    |    | Массив     | UUID контрагентов                             |

##### Таблица фильтров по состояниям

| Входной параметр фильтра | Группа состояний |
| - | - |
| draft         | Проект |
| approval      | На согласовании |
| rework        | На доработке |
| signing       | На подписании |
| consideration | На рассмотрении |
| perform       | Действует/На исполнении |


##### Таблица фильтров по типам

| Входной параметр фильтра | Тип документов |
| - | - |
| universal   | Универсальный документ     |
| outcoming   | Исходящие документы        |
| incoming    | Входящие документы         |
| memorandum  | Служебные записки          |
| rd          | Распорядительные документы |
| protocol    | Протоколы                  |


###### Дополнительные сериализованные поля документов

| Тип документа | Дополнительные объекты из сериализации |
| - | - |
| ВД | отправитель(+кто); Номер письма (main\_info.ExternalNumber); повторность (тип дублирования); гриф; контроль(+срок контроля, снятия); тема; содержание; |
| ИД | куда(+кому) ; тема; содержание;  |
| СЗ | срок выполнения; кто получатель + его подразделение; тема; содержание; контроль(+срок контроля, снятия); |
| Протокол | номер; дата регистрации; тема; тип совещания; содержание |
| УД | содержание; тип документа (doc_type); номер; дата регистрации |
| РД | тема; содержание; тип распоряжения (doc_type) |

Примечание: `конфиденциальность` - в названии

### Получить [GET]

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes ()



## Информация по документу [/document_cards/{id}]
- `id` ( **String**, *required* )
Уникальный идентификатор документа.

Описание того, что будет сериализоваться сериализоваться при выдаче (show) документа. Таблица в свободной форме (не учтено то, что уже есть в списках тех же документов).

| Тип документа | Список элементов |
| - | - |
| Все | Инфа об избранном; Дата регистрации; Регистратор; Исполнитель(секретарь) = preparator; К-во листов; к-во листов в прил; Подписанты (Signers); Файлы; Связки (можно сериализовать так же как и в заданиях); Комментарии (ход исполнения); Лист согласования; История согласования(? выдавать ли сразу) |
| ВД | Контроль; Номер письма (main\_info.ExternalNumber); Дата письма (main\_info.DeliveryDate); Получен (DeliveryType); От (main\_info.DeliveryDdate); Журнал передач (TransferLog); Адрес (doc\_info.Address); Вложение (doc_info.Attachment); Получатели (receiver_employees); **Не делается:** Вложенные письма |
| ИД | Вид отправки (doc\_info.SendingKind); Вложение (doc\_info.Attachment); |
| СЗ | Контроль; Копия (AcquaintancePersons.AcquaintanceStaff) |
| Протокол |  Журнал передач; Председатель(Chairman); **Не делается:**: Повестка и решения; Участники (Attendees); Уведомлямые (Receivers); |
| УД | Контроль за исп. (main\_info.Controller) | 
| РД | Журнал передач; Лист рассылки (Исполнение (MailingListForExecution), Ознакомление (MailingListForTheIntrodution)); Контроль за исп. (main\_info.Controller); Тип распоряжения/приказа (doc_type); **Не делается:** Сведения об отмене |


### Получить [GET]

+ Request (application/vnd.api+json)

+ Response 200 (application/vnd.api+json)
    
        {  
            "data":{  
                "id":"52F3934F-989A-E611-9405-000C29D9CFCB",
                "type":"document_cards",
                "attributes":{  
                    "description":"СЗ №",
                    "card_kind_name":"Служебная записка",
                    "card_kind_id":"426D03DB-88EA-45A3-AC3E-7BD58F8FED5D",
                    "state_default_name":"Is registered",
                    "change_date_time":"2016-10-25T23:55:00.343+07:00",
                    "creation_date_time":"2016-10-25T23:49:28.556+07:00",
                    "parent_card_kind_name":"Служебные записки",
                    "parent_card_kind_id":"9B83DD42-8F74-4B40-B2E3-43E43B60B3F5",
                    "name":"СЗ №",
                    "content":"содержание СЗ",
                    "doc_type":null,
                    "control_date":null,
                    "stop_control_date":null,
                    "deadline":null,
                    "controlled":false,
                    "case_name":null,
                    "number_of_sheets":null,
                    "number_of_sheets_appendix":null,
                    "added_to_favorites_at":null,
                    "project_number":null,
                    "registration_number":null,
                    "registration_date":null
                },
                "relationships":{  
                    "receiver_employees":{  
                        "data":[  
                            {  
                                "id":"02826E05-666D-467D-B836-A9E5608D2ABD",
                                "type":"employees"
                            }
                        ]
                    },
                    "allowed_operations":{  
                        "data":[  
                            {  
                                "id":"D8E71A36-325D-46F1-98F1-AAC15C913A9D",
                                "type":"allowed_operations"
                            },
                            {  
                                "id":"CD7DAF38-3604-4614-AADB-6A491881A513",
                                "type":"allowed_operations"
                            }
                        ]
                    },
                    "references":{  
                        "data":[  
                            {  
                                "id":"4EE22FC2-F534-4D4A-8A7C-8B43DB3CB519",
                                "type":"reference_list_card_references"
                            },
                            {  
                                "id":"DE8675C8-828F-480C-8721-D3B1C95782B6",
                                "type":"reference_list_card_references"
                            }
                        ]
                    },
                    "files":{  
                        "data":[  
                            {  
                                "id":"128D825B-1099-4C57-B2E4-F1A289F8CC6D",
                                "type":"document_card_files"
                            },
                            {  
                                "id":"9D22984D-2D59-49BC-ADD9-FAEB1390885E",
                                "type":"document_card_files"
                            }
                        ]
                    },
                    "preparator":{  
                        "data":{  
                            "id":"02826E05-666D-467D-B836-A9E5608D2ABD",
                            "type":"employees"
                        }
                    },
                    "registrar":{  
                        "data":{  
                            "id":"02826E05-666D-467D-B836-A9E5608D2ABD",
                            "type":"employees"
                        }
                    },
                    "signers":{  
                        "data":[  
                            {  
                                "id":"BA68DD96-95D6-4B17-9C65-31EB877D96BF",
                                "type":"employees"
                            }
                        ]
                    },
                    "comments":{  
                        "data":[  
        
                        ]
                    },
                    "approvers":{  
                        "data":[  
                            {  
                                "id":"59C9AD4F-6565-4A47-8DE6-429D412125D0",
                                "type":"document_card_approvers"
                            }
                        ]
                    },
                    "copy_recipients":{  
                        "data":[  
        
                        ]
                    }
                }
            },
            "included":[  
                {  
                    "id":"02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type":"employees",
                    "attributes":{  
                        "first_name":null,
                        "last_name":"Администратор",
                        "middle_name":null,
                        "display_string":"Администратор, ГОЗНАК (АО)",
                        "gender":"male",
                        "has_photo":false
                    },
                    "relationships":{  
                        "unit":{  
                            "data":null
                        },
                        "company":{  
                            "data":{  
                                "id":"38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                                "type":"departments"
                            }
                        }
                    }
                },
                {  
                    "id":"38166F8F-B87A-4424-A322-3C0DBE4C28ED",
                    "type":"departments",
                    "attributes":{  
                        "name":"ГОЗНАК (АО)"
                    }
                },
                {  
                    "id":"D8E71A36-325D-46F1-98F1-AAC15C913A9D",
                    "type":"allowed_operations",
                    "attributes":{  
                        "name":"Save changes to the current version of main file",
                        "name_ru":"Сохранение изменений в текущую версию основного файла",
                        "built_in_operation_name":null
                    }
                },
                {  
                    "id":"CD7DAF38-3604-4614-AADB-6A491881A513",
                    "type":"allowed_operations",
                    "attributes":{  
                        "name":"Рассмотрена",
                        "name_ru":null,
                        "built_in_operation_name":null
                    }
                },
                {  
                    "id":"4EE22FC2-F534-4D4A-8A7C-8B43DB3CB519",
                    "type":"reference_list_card_references",
                    "attributes":{  
                        "type_name":"КЗ_ДополненияКарточкиВх",
                        "type_description":"Связанные карточки",
                        "creation_date":"2016-10-25T23:50:10.000+07:00"
                    },
                    "relationships":{  
                        "destination_card":{  
                            "data":{  
                                "id":"41B17F9F-A80B-E611-BE8C-00505626075A",
                                "type":"document_cards"
                            }
                        }
                    }
                },
                {  
                    "id":"41B17F9F-A80B-E611-BE8C-00505626075A",
                    "type":"document_cards",
                    "attributes":{  
                        "description":"Входящий Вх-125 Тема документа",
                        "card_kind_name":"Входящий",
                        "card_kind_id":"C341B0B3-5ED4-4EBE-837F-932A8502921C",
                        "state_default_name":"Drafting",
                        "change_date_time":"2016-05-10T23:49:14.370+07:00",
                        "creation_date_time":"2016-04-27T01:16:04.143+07:00"
                    }
                },
                {  
                    "id":"DE8675C8-828F-480C-8721-D3B1C95782B6",
                    "type":"reference_list_card_references",
                    "attributes":{  
                        "type_name":"КЗ_ДополненияКарточкиВх",
                        "type_description":"Связанные карточки",
                        "creation_date":"2016-12-06T18:57:11.000+07:00"
                    },
                    "relationships":{  
                        "destination_card":{  
                            "data":{  
                                "id":"35C6C9DF-5276-E611-9404-000C29D9CFCB",
                                "type":"document_cards"
                            }
                        }
                    }
                },
                {  
                    "id":"35C6C9DF-5276-E611-9404-000C29D9CFCB",
                    "type":"document_cards",
                    "attributes":{  
                        "description":"Входящий документ Вх-352 прлрчсплр",
                        "card_kind_name":"Входящий (конфиденциальный)",
                        "card_kind_id":"8E15B550-5FEE-43CD-A002-76D0229B5428",
                        "state_default_name":"Is registered",
                        "change_date_time":"2016-09-09T20:03:43.160+07:00",
                        "creation_date_time":"2016-09-09T20:01:42.330+07:00"
                    }
                },
                {  
                    "id":"128D825B-1099-4C57-B2E4-F1A289F8CC6D",
                    "type":"document_card_files",
                    "attributes":{  
                        "file_type":"main"
                    },
                    "relationships":{  
                        "file_card":{  
                            "data":{  
                                "id":"38F03066-989A-E611-9405-000C29D9CFCB",
                                "type":"versioned_file_cards"
                            }
                        }
                    }
                },
                {  
                    "id":"38F03066-989A-E611-9405-000C29D9CFCB",
                    "type":"versioned_file_cards",
                    "attributes":{  
                        "description":"Входящий Итекон от30.03.16.PDF",
                        "file_name":"Входящий Итекон от30.03.16.PDF",
                        "current_version_number":1,
                        "current_version_file_id":"3AF03066-989A-E611-9405-000C29D9CFCB"
                    }
                },
                {  
                    "id":"9D22984D-2D59-49BC-ADD9-FAEB1390885E",
                    "type":"document_card_files",
                    "attributes":{  
                        "file_type":"additional"
                    },
                    "relationships":{  
                        "file_card":{  
                            "data":{  
                                "id":"F1F71E15-999A-E611-9405-000C29D9CFCB",
                                "type":"versioned_file_cards"
                            }
                        }
                    }
                },
                {  
                    "id":"F1F71E15-999A-E611-9405-000C29D9CFCB",
                    "type":"versioned_file_cards",
                    "attributes":{  
                        "description":"Лист согласования.htm",
                        "file_name":"Лист согласования.htm",
                        "current_version_number":1,
                        "current_version_file_id":"EDF71E15-999A-E611-9405-000C29D9CFCB"
                    }
                },
                {  
                    "id":"BA68DD96-95D6-4B17-9C65-31EB877D96BF",
                    "type":"employees",
                    "attributes":{  
                        "first_name":"Василий",
                        "last_name":"Котов",
                        "middle_name":"Васильевич",
                        "display_string":"Котов В. В.",
                        "gender":"male",
                        "has_photo":false
                    }
                },
                {  
                    "id":"59C9AD4F-6565-4A47-8DE6-429D412125D0",
                    "type":"document_card_approvers",
                    "attributes":{  
                        "date_begin":"2016-10-25T23:50:28.000+07:00",
                        "date_end":"2016-10-25T23:50:59.000+07:00",
                        "number":1,
                        "order":1,
                        "route_type":"step_by_step",
                        "state":"approved",
                        "comment":""
                    },
                    "relationships":{  
                        "employee":{  
                            "data":{  
                                "id":"02826E05-666D-467D-B836-A9E5608D2ABD",
                                "type":"employees"
                            }
                        }
                    }
                }
            ]
        }

## Комментирование [/document_cards/{id}/comments?content={content}]

- `id` ( **String**, *required* )
Уникальный идентификатор документа.
- `content` ( **String**, *required* )
Текст комментария

### Добавить комментарий [POST]


+ Request (application/vnd.api+json)
        
+ Response 201 (application/vnd.api+json)

    + Headers

            Access-Token:4yzt0hS8ZPTeZWvCrO5dQQ
            Client:G24hRw_GOnm-vDSP14VxVw
            Etag:W/"a0c9026fb660a244f8b76750bc11942d"
            Expiry:1471867013
            Token-Type:Bearer
            Uid:1

    + Attributes
        + data (DocumentCardCommentWithAuthor)
        + included (Employee)


## Дерево заданий [/document_cards/{id}/task_tree]
- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

### Построить [GET]

### Описание 
Дерево заданий по документу. Содержит список заданий, связанных с исполнением документа (`Исполнение`, `Рассмотрение` и др.)

Информация о задании содержит ограниченный набор атрибутов с двумя связками:
* Исполнители.
* Родительское *оперативное* задание `operative_parent_task`. *Оперативным* оно названо потому, что здесь пропущены связки с родительскими заданиями видов `Поручение` и `Длительное поручение`, которые не нужны при отображени дерева. У заданий довольно часто есть родительское задание типа `Поручение` и `Длительное поручение` из которых бизнес-процессы системы выдают *оперативные* задания, например `На исполнение`.
У корневых заданий `operative_parent_task` отсутствует

+ Request (application/vnd.api+json)


+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes
        + data (array[TaskCardTreeListData, TaskCardTreeListData])
        + included (array[Employee, Employee, Employee] )



## История согласования [/document_cards/{id}/approval_history]
- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

### Построить [GET]

### Описание 
Вернет информацию о шагах истории согласования, к которым приложены:

* Состояния шагов согласования
* Номер шага
* Задания с комментариями, исполнителем, завершившим задание сотрудником

История согласования формируется в приложении на основе данных из нескольких таблиц, по-этому на выходе представлены кастомные имена состояний шагов согласования. Перечень возможных *на данный момент* состояний представлен в таблице:


| Состояние | Комментарий |
| - | - |
| Не начат | - |
| В работе | - |
| Рассмотрен | - |
| Согласован | - |
| Не согласован | - |
| Подписан | - |
| Не подписан | - |
| Отклонен | - |
| Пропущен | - |
| Неустранимое замечание | - |
| Доработан | - |
| На согласовании | - |
| На подписании | - |
| Подготовка к отправке | - |
| Подготовлен к отправке | - |
| На доработке | - |
| На регистрации | - |
| Зарегистрирован | - |


+ Request (application/vnd.api+json)


+ Response 200 (application/vnd.api+json)

        {
          "data": [
            {
              "id": "2BCC8688-0C58-44A0-921B-864D7EB4A54B",
              "type": "document_cards_approval_steps",
              "attributes": {
                "number": 0,
                "state_name": "Согласован"
              },
              "relationships": {
                "task": {
                  "data": {
                    "id": "1529C098-9DCE-E611-BA25-0800279209D4",
                    "type": "task_cards"
                  }
                }
              }
            },
            {
              "id": "93191ACD-8EA8-4C51-9798-45EEECD9F594",
              "type": "document_cards_approval_steps",
              "attributes": {
                "number": 0,
                "state_name": "Согласован"
              },
              "relationships": {
                "task": {
                  "data": {
                    "id": "D8F57A91-9FCE-E611-BA25-0800279209D4",
                    "type": "task_cards"
                  }
                }
              }
            },
            {
              "id": "5136EE5C-961D-4D58-93B7-443B5F209190",
              "type": "document_cards_approval_steps",
              "attributes": {
                "number": 0,
                "state_name": "На согласовании"
              },
              "relationships": {
                "task": {
                  "data": {
                    "id": "0E0AE521-A0CE-E611-BA25-0800279209D4",
                    "type": "task_cards"
                  }
                }
              }
            }
          ],
          "included": [
            {
              "id": "1529C098-9DCE-E611-BA25-0800279209D4",
              "type": "task_cards",
              "attributes": {
                "description": "Согласование: Исходящий Новый документ. Тест истории согласования! 3 согласующих. Каждый добавит по файлу (??)",
                "card_kind_name": "Согласование",
                "card_kind_id": "7790B5DF-C84D-4812-89B6-394D9925FABA",
                "state_default_name": "Completed",
                "change_date_time": "2016-12-30T21:50:01.373Z",
                "creation_date_time": "2016-12-30T21:38:25.040Z",
                "state_id": "AC361E0E-DBAA-4B5D-87FE-0A187AD518DD",
                "state_name": "Завершено",
                "built_in_state_name": "completed"
              },
              "relationships": {
                "references": {
                  "data": [
                    {
                      "id": "F8F5CCB7-C039-42AD-8452-1F23237FB3A5",
                      "type": "reference_list_card_references"
                    }
                  ]
                },
                "performers": {
                  "data": [
                    {
                      "id": "FE6A4BE9-2C74-425D-BFFE-F4E590E8472B",
                      "type": "employees"
                    }
                  ]
                },
                "completed_user": {
                  "data": {
                    "id": "FE6A4BE9-2C74-425D-BFFE-F4E590E8472B",
                    "type": "employees"
                  }
                },
                "comments": {
                  "data": []
                }
              }
            },
            {
              "id": "F8F5CCB7-C039-42AD-8452-1F23237FB3A5",
              "type": "reference_list_card_references",
              "attributes": {
                "type_name": "КЗ_ДополненияФайлыОтчет",
                "type_description": "Дополнительные файлы",
                "creation_date": "2016-12-30T21:49:58.000Z"
              },
              "relationships": {
                "destination_card": {
                  "data": {
                    "id": "37AFCE3A-9FCE-E611-BA25-0800279209D4",
                    "type": "document_cards"
                  }
                }
              }
            },
            {
              "id": "37AFCE3A-9FCE-E611-BA25-0800279209D4",
              "type": "document_cards",
              "attributes": {
                "description": "tst.txt",
                "card_kind_name": "Файл",
                "card_kind_id": "F9A8D158-9884-4765-859D-31C4EFCA149D",
                "state_default_name": "Создан",
                "change_date_time": "2016-12-30T21:49:58.087Z",
                "creation_date_time": "2016-12-30T21:49:57.759Z",
                "state_id": "E528052C-A932-4295-A5A3-7233520FAAC8",
                "state_name": "Создан",
                "built_in_state_name": null,
                "parent_card_kind_name": "Документ",
                "parent_card_kind_id": "8ACE1220-A452-455D-8EEB-9EDF9DC6E327",
                "name": "tst.txt",
                "content": null,
                "doc_type": null,
                "main_versioned_file_card": "2DAFCE3A-9FCE-E611-BA25-0800279209D4"
              },
              "relationships": {
                "versioned_file_cards": {
                  "data": [
                    {
                      "id": "2DAFCE3A-9FCE-E611-BA25-0800279209D4",
                      "type": "versioned_file_cards"
                    }
                  ]
                }
              }
            },
            {
              "id": "2DAFCE3A-9FCE-E611-BA25-0800279209D4",
              "type": "versioned_file_cards",
              "attributes": {
                "description": "tst.txt",
                "file_name": "tst.txt",
                "current_version_number": 1,
                "current_version_file_id": "2FAFCE3A-9FCE-E611-BA25-0800279209D4"
              }
            },
            {
              "id": "FE6A4BE9-2C74-425D-BFFE-F4E590E8472B",
              "type": "employees",
              "attributes": {
                "first_name": "Назар",
                "last_name": "Рохмистров",
                "middle_name": "Олегович",
                "display_string": "Рохмистров Н. О.",
                "gender": "male",
                "has_photo": true
              }
            },
            {
              "id": "D8F57A91-9FCE-E611-BA25-0800279209D4",
              "type": "task_cards",
              "attributes": {
                "description": "Согласование: Исходящий Новый документ. Тест истории согласования! 3 согласующих. Каждый добавит по файлу (??)",
                "card_kind_name": "Согласование",
                "card_kind_id": "7790B5DF-C84D-4812-89B6-394D9925FABA",
                "state_default_name": "Completed",
                "change_date_time": "2016-12-30T21:55:58.909Z",
                "creation_date_time": "2016-12-30T21:52:22.719Z",
                "state_id": "AC361E0E-DBAA-4B5D-87FE-0A187AD518DD",
                "state_name": "Завершено",
                "built_in_state_name": "completed"
              },
              "relationships": {
                "references": {
                  "data": [
                    {
                      "id": "8CD74BDF-6E8D-4EFA-998A-00DDE8287CF6",
                      "type": "reference_list_card_references"
                    }
                  ]
                },
                "performers": {
                  "data": [
                    {
                      "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                      "type": "employees"
                    }
                  ]
                },
                "completed_user": {
                  "data": {
                    "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
                    "type": "employees"
                  }
                },
                "comments": {
                  "data": []
                }
              }
            },
            {
              "id": "8CD74BDF-6E8D-4EFA-998A-00DDE8287CF6",
              "type": "reference_list_card_references",
              "attributes": {
                "type_name": "КЗ_ДополненияФайлыОтчет",
                "type_description": "Дополнительные файлы",
                "creation_date": "2016-12-30T21:55:24.000Z"
              },
              "relationships": {
                "destination_card": {
                  "data": {
                    "id": "AA950FFD-9FCE-E611-BA25-0800279209D4",
                    "type": "document_cards"
                  }
                }
              }
            },
            {
              "id": "AA950FFD-9FCE-E611-BA25-0800279209D4",
              "type": "document_cards",
              "attributes": {
                "description": "tst.txt",
                "card_kind_name": "Файл",
                "card_kind_id": "F9A8D158-9884-4765-859D-31C4EFCA149D",
                "state_default_name": "Создан",
                "change_date_time": "2016-12-30T21:55:23.573Z",
                "creation_date_time": "2016-12-30T21:55:23.410Z",
                "state_id": "E528052C-A932-4295-A5A3-7233520FAAC8",
                "state_name": "Создан",
                "built_in_state_name": null,
                "parent_card_kind_name": "Документ",
                "parent_card_kind_id": "8ACE1220-A452-455D-8EEB-9EDF9DC6E327",
                "name": "tst.txt",
                "content": null,
                "doc_type": null,
                "main_versioned_file_card": "A0950FFD-9FCE-E611-BA25-0800279209D4"
              },
              "relationships": {
                "versioned_file_cards": {
                  "data": [
                    {
                      "id": "A0950FFD-9FCE-E611-BA25-0800279209D4",
                      "type": "versioned_file_cards"
                    }
                  ]
                }
              }
            },
            {
              "id": "A0950FFD-9FCE-E611-BA25-0800279209D4",
              "type": "versioned_file_cards",
              "attributes": {
                "description": "tst.txt",
                "file_name": "tst.txt",
                "current_version_number": 1,
                "current_version_file_id": "A2950FFD-9FCE-E611-BA25-0800279209D4"
              }
            },
            {
              "id": "02826E05-666D-467D-B836-A9E5608D2ABD",
              "type": "employees",
              "attributes": {
                "first_name": null,
                "last_name": "Администратор",
                "middle_name": null,
                "display_string": "Администратор",
                "gender": "male",
                "has_photo": false
              }
            },
            {
              "id": "0E0AE521-A0CE-E611-BA25-0800279209D4",
              "type": "task_cards",
              "attributes": {
                "description": "Согласование: Исходящий Новый документ. Тест истории согласования! 3 согласующих. Каждый добавит по файлу (??)",
                "card_kind_name": "Согласование",
                "card_kind_id": "7790B5DF-C84D-4812-89B6-394D9925FABA",
                "state_default_name": "Started",
                "change_date_time": "2016-12-30T22:00:22.376Z",
                "creation_date_time": "2016-12-30T21:56:25.007Z",
                "state_id": "9BF207F2-B08E-42F2-8871-C900BC501294",
                "state_name": "Не начато",
                "built_in_state_name": "started"
              },
              "relationships": {
                "references": {
                  "data": []
                },
                "performers": {
                  "data": [
                    {
                      "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
                      "type": "employees"
                    }
                  ]
                },
                "completed_user": {
                  "data": null
                },
                "comments": {
                  "data": []
                }
              }
            },
            {
              "id": "EDAE212A-0E13-4971-926A-D8FD4C4813BA",
              "type": "employees",
              "attributes": {
                "first_name": "Иван",
                "last_name": "Дроботенко",
                "middle_name": "Николаевич",
                "display_string": "Дроботенко И. Н.",
                "gender": "male",
                "has_photo": false
              }
            }
          ]
        }

## Полное дерево исполнения [/document_cards/{id}/tree]

- `id` ( **String**, *required* )
Уникальный ID задания (`InstanceID` карточки)

### Построить [GET]

### Описание 
Метод возвращает документ с полной информацией об исполнении.
С помощью данной информации можно построить полноценное дерево заданий, связанных с исполнением документа.

Информация об исполнении является комбинацией методов `Дерево заданий` и `История согласования` и включает:
* Дерево заданий исполнения документа `task_tree_items` (соответсвует процессам `Рассмотрение`, `Исполнение` и др.)
* Историю согласования `approval_steps`. У каждого задания `task` из шага согласования так же может быть своё дерево распределения `task_tree_items`

Примечания:
* В отличии от возврата из `История согласования` - в данном методе не включены комментарии и файлы отчетов по заданиям из истории согласования


+ Request (application/vnd.api+json)


+ Response 200 (application/vnd.api+json)

    + Headers

    + Attributes
        + data (DocumentCardWithFullTree)




## Файлы документа [/document_cards/{id}/files]

Файлы документа это экземляры секции `DocumentCard::File` документа (секция ссылается на карточку файла `VersionedFileCard`).

Файл, на данный момент, заливается способом `multipart/form-data`

Ответ приходит в формате JSON API.

### Добавление [POST]
- `id` ( **String**, *required* )
ID документа (`InstanceID` карточки)
+ Request (multipart/form-data; boundary=---BOUNDARY)

    + Headers 

            Accept: application/vnd.api+json

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes (DocumentFileReferenceCreateDescription)

### Удаление основного файла [DELETE /document_cards/{id}/files/{file_id}]
- `id` ( **String**, *required* )
ID документа (`InstanceID` карточки)

- `file_id` ( **String**, *required* )
ID ссылки на файл документа (секции `DocumentCard::File`), которую нужно удалить

+ Request (application/vnd.api+json)

    + Headers 

+ Response 204 (application/vnd.api+json)

    + Headers

    + Attributes 


## Связки [/document_cards/{id}/references]
### Добавление [POST /document_cards/{id}/references?card_id={card_id}]

- `id` ( **String**, *required* )
ID документа (`InstanceID` карточки)

- `card_id` ( **String**, *required* )
ID карточки, на которую необходимо создать ссылку (`InstanceID` карточки)

В список связок документа будет добавлена ссылка на указанную карточку

+ Request (application/vnd.api+json)

    + Headers 

+ Response 201 (application/vnd.api+json)

    + Headers

    + Attributes (DocumentCardReferenceLinkCreateDescription)

### Удаление связки [DELETE /document_cards/{id}/references/{reference_id}]
- `id` ( **String**, *required* )
ID документа (`InstanceID` карточки)

- `reference_id` ( **String**, *required* )
ID связки, которую нужно удалить (`InstanceID` карточки)

+ Request (application/vnd.api+json)

    + Headers 

+ Response 204 (application/vnd.api+json)

    + Headers

    + Attributes 

# Group Карточки файла с версиями

## Описание


## Файл [/versioned_file_cards/{id}/file]
### Получить [GET]
- `id` ( **String**, *required* )

Вернет файл - представляющий текущую версию `Карточка файла с версиями`, 
с определенными по формату файла заголовками `Content-Type`, `Content-Disposition` и др.

## Файл, конвертированный в PDF [/versioned_file_cards/{id}/file/pdf]

### Получить [GET]
- `id` ( **String**, *required* )

Вернет тот же файл, что и предыдущий метод, только в формате PDF (конвертируется с помощью LibreOffice)


# Group Иное

То, что пока не вошло в какой-либо раздел


## Данные простых справочников [/simple_directories?cache_version={cache_version}]

Данный метод предназначен для выдачи списка простых справочников, содержащихся в [конструкторе справочников](https://braintent.gitbooks.io/goznak-docs/content/items_dir.html). 

Данные из простых справочников конструктора справочников активно используются приложением, например: при создании документов, в таких зависимостях как `Тип совещания`, `Дело`, `Тип указания` и др.

Для экономии ресурсов системы метод позволяет проверить актуальность уже имеющейся у пользователя информации, для этого метод принимает маркер версии (дату обновления конструктора справочников) в параметрах.
* Если пользователь прислал маркер версии и он актуален - ответ будет пустым.
* Если маркер версии не задан либо его значение устарело - в ответе придет перечисление простых справочников и их элементов.

В теле ответа, в объекте `meta`, по ключу `current_version` присылается актуальный маркер версии(дата обновления конструктора справочников).

### Получить [GET]
- `cache_version` ( **String**)
Версия кеша, от которой необходимо проверять обновления. Содержит дату и время формате JSON

+ Request (application/vnd.api+json)

    + Headers 

+ Response 201 (application/vnd.api+json)

        {
          "data": [
            {
              "id": "214C1F21-7117-4FA5-AF2A-04FE1162E1E8",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": "delivery_types",
                "name": "Способы получения"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "B42CE1AD-EA5A-4267-A926-07CDAFD7FF55",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "F35BC195-4FC9-4FBE-87AF-23A324D3DC51",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "03FB43A8-9C22-4EAF-A77C-E839BF7158C4",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "D852675F-66A6-43A0-880C-8E32A1DAF7FE",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "F34F9B23-37E1-4677-AB1E-BE418FA5FD08",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": "security_classification",
                "name": "Категории доступа"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "6E5D32F7-0712-4F44-A031-414482C97578",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "4988A913-AC03-4753-A5D9-9192FD1280F3",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "4510BE1F-35E5-40AF-B459-80868FA740FB",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "18E63B08-0725-4FEB-BCBE-13CE2D77989E",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": null,
                "name": "Виды дублирования отправок"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "EC4E11BB-35C6-4336-9C30-BD90758B975F",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "FE7F61A3-6A70-404E-901E-BB2CF4550465",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "C815A479-9E8A-4C15-9793-2A9D3859ECD9",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "7E9069BD-F183-4498-B176-BA41625715AE",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": "sending_types",
                "name": "Типы отправок"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "026940CF-D3B1-4C4A-BDF2-E3FF18DC6623",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "AF1262AA-2EDA-47C7-8FE7-50185B11033F",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "A26F2A7D-F88E-435B-978A-C87F628A695F",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": "order_types",
                "name": "Типы приказов"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "E5BE30FE-D52F-44E7-9D98-2BC61E7F852B",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "06E3C61B-A77B-4BD9-B7A3-ABE8BAAF2AF4",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "A5A2026B-1C5F-4A27-AEB7-3B974CC9CFF4",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "5BC1361C-C595-4C09-ABF2-5BBCDD0DFFFB",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "112A6FF5-9647-441D-A59B-004469D4ED8D",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "EA754208-1174-4807-A4CF-C94E25DDBA11",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "E837AC17-F375-4F09-A063-64A94811AB9D",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "39CAE097-9D37-4817-8E96-5DF8C24C350C",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "77484838-EEC3-4839-86BD-D3BC4A764B4F",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "4D6EE812-6400-4516-9035-D3E51F080E63",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "B106D1FA-0273-4217-A431-8B0541D7F0D0",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "86CA64B8-0CD4-424F-A7E8-BA27F52A4376",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "F266B77F-C71E-4904-BF3C-75AD25E183F5",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "2F7A9D14-9F82-44CE-9055-9BB6E66D6D2D",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": "direction_types",
                "name": "Типы распоряжений"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "F160E651-A913-4125-88C2-A686139BB317",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "CA43AB97-9D4C-44E1-8FB9-50521ABE72E0",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "73C8A8CB-8CB9-48F6-99AB-22C4DB6A6765",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": "guidline_types",
                "name": "Типы указаний"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "D918A8EB-9EF0-4CFC-AB5A-EEA7383CE9ED",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "B85AB445-4985-476D-9771-C88AED581359",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "6BB2CC49-AE34-4097-9949-C4BE2327F665",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": "meeting_types",
                "name": "Типы совещаний"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "5594C6F0-3483-4AA1-A286-A78590ED57E9",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "7756DC4D-E682-40CE-AF43-6F01716902C7",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "FB84820A-00E4-4991-861B-66437CC66B08",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "D6B7F151-AAF5-452F-B3B3-26C5A25B1615",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": "cases",
                "name": "Справочник номенклатуры дел"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "2AAB787E-D21F-4A8D-833B-CCC6E24CD186",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "35DA04FD-4A2B-4AE5-8DD3-A5BF82FC358F",
                      "type": "items_dir_item_type_items"
                    },
                    {
                      "id": "D2672D78-102C-43A7-8C00-925CF846AB89",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            },
            {
              "id": "C33BFEBA-2236-492E-99D6-8AD9A84E096A",
              "type": "items_dir_item_types",
              "attributes": {
                "scope_name": null,
                "name": "Типы универсальных документов"
              },
              "relationships": {
                "items": {
                  "data": [
                    {
                      "id": "37B79802-B347-4CEA-A280-6A01DD878763",
                      "type": "items_dir_item_type_items"
                    }
                  ]
                }
              }
            }
          ],
          "included": [
            {
              "id": "B42CE1AD-EA5A-4267-A926-07CDAFD7FF55",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "E-mail"
              }
            },
            {
              "id": "F35BC195-4FC9-4FBE-87AF-23A324D3DC51",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Факс"
              }
            },
            {
              "id": "03FB43A8-9C22-4EAF-A77C-E839BF7158C4",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Почта"
              }
            },
            {
              "id": "D852675F-66A6-43A0-880C-8E32A1DAF7FE",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Курьер"
              }
            },
            {
              "id": "6E5D32F7-0712-4F44-A031-414482C97578",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "ДСП"
              }
            },
            {
              "id": "4988A913-AC03-4753-A5D9-9192FD1280F3",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "КТ"
              }
            },
            {
              "id": "4510BE1F-35E5-40AF-B459-80868FA740FB",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "К"
              }
            },
            {
              "id": "EC4E11BB-35C6-4336-9C30-BD90758B975F",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "E-mail"
              }
            },
            {
              "id": "FE7F61A3-6A70-404E-901E-BB2CF4550465",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Факс"
              }
            },
            {
              "id": "C815A479-9E8A-4C15-9793-2A9D3859ECD9",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Почта"
              }
            },
            {
              "id": "026940CF-D3B1-4C4A-BDF2-E3FF18DC6623",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Письмо"
              }
            },
            {
              "id": "AF1262AA-2EDA-47C7-8FE7-50185B11033F",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Курьер"
              }
            },
            {
              "id": "E5BE30FE-D52F-44E7-9D98-2BC61E7F852B",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Основная деятельность"
              }
            },
            {
              "id": "06E3C61B-A77B-4BD9-B7A3-ABE8BAAF2AF4",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Административно-хозяйственные вопросы"
              }
            },
            {
              "id": "A5A2026B-1C5F-4A27-AEB7-3B974CC9CFF4",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Взыскания"
              }
            },
            {
              "id": "5BC1361C-C595-4C09-ABF2-5BBCDD0DFFFB",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Доплаты"
              }
            },
            {
              "id": "112A6FF5-9647-441D-A59B-004469D4ED8D",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Загранкомандировки"
              }
            },
            {
              "id": "EA754208-1174-4807-A4CF-C94E25DDBA11",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Командировки"
              }
            },
            {
              "id": "E837AC17-F375-4F09-A063-64A94811AB9D",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Личный состав"
              }
            },
            {
              "id": "39CAE097-9D37-4817-8E96-5DF8C24C350C",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Отпуска"
              }
            },
            {
              "id": "77484838-EEC3-4839-86BD-D3BC4A764B4F",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Переводы"
              }
            },
            {
              "id": "4D6EE812-6400-4516-9035-D3E51F080E63",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Поощрения"
              }
            },
            {
              "id": "B106D1FA-0273-4217-A431-8B0541D7F0D0",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Практика"
              }
            },
            {
              "id": "86CA64B8-0CD4-424F-A7E8-BA27F52A4376",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Прием"
              }
            },
            {
              "id": "F266B77F-C71E-4904-BF3C-75AD25E183F5",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Увольнение"
              }
            },
            {
              "id": "F160E651-A913-4125-88C2-A686139BB317",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Основная деятельность"
              }
            },
            {
              "id": "CA43AB97-9D4C-44E1-8FB9-50521ABE72E0",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Административно-хозяйственные вопросы"
              }
            },
            {
              "id": "D918A8EB-9EF0-4CFC-AB5A-EEA7383CE9ED",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Основная деятельность"
              }
            },
            {
              "id": "B85AB445-4985-476D-9771-C88AED581359",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Административно-хозяйственные вопросы"
              }
            },
            {
              "id": "5594C6F0-3483-4AA1-A286-A78590ED57E9",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Итоговые совещания"
              }
            },
            {
              "id": "7756DC4D-E682-40CE-AF43-6F01716902C7",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Проектные совещания"
              }
            },
            {
              "id": "FB84820A-00E4-4991-861B-66437CC66B08",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Нерегулярные совещания"
              }
            },
            {
              "id": "2AAB787E-D21F-4A8D-833B-CCC6E24CD186",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "1"
              }
            },
            {
              "id": "35DA04FD-4A2B-4AE5-8DD3-A5BF82FC358F",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Входящие 2016"
              }
            },
            {
              "id": "D2672D78-102C-43A7-8C00-925CF846AB89",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Исходящие 2016"
              }
            },
            {
              "id": "37B79802-B347-4CEA-A280-6A01DD878763",
              "type": "items_dir_item_type_items",
              "attributes": {
                "name": "Заявка"
              }
            }
          ],
          "meta": {
            "cache_version": "2017-01-26T20:57:28.220Z"
          }
        }